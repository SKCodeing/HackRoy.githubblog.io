{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":1,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":1,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":1,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":1,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":1,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"60b98fd5c069556bfc179b96c26afde25ccf3c9a","modified":1506586467000},{"_id":"source/CNAME","hash":"5cb6e08e295779f4b3418c1eb463c44dac183f7e","modified":1506662186000},{"_id":"themes/next/.DS_Store","hash":"e013e52984a5d50cac4436eb3bdd947e0fe98ce7","modified":1506582900000},{"_id":"themes/next/.bowerrc","hash":"3228a58ed0ece9f85e1e3136352094080b8dece1","modified":1506578403000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1506578403000},{"_id":"themes/next/.gitattributes","hash":"44bd4729c74ccb88110804f41746fec07bf487d4","modified":1506578403000},{"_id":"themes/next/.gitignore","hash":"32ea93f21d8693d5d8fa4eef1c51a21ad0670047","modified":1506578403000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1506578403000},{"_id":"themes/next/.javascript_ignore","hash":"8a224b381155f10e6eb132a4d815c5b52962a9d1","modified":1506578403000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1506578403000},{"_id":"themes/next/.stylintrc","hash":"b28e24704a5d8de08346c45286574c8e76cc109f","modified":1506578403000},{"_id":"themes/next/.travis.yml","hash":"d60d4a5375fea23d53b2156b764a99b2e56fa660","modified":1506578403000},{"_id":"themes/next/LICENSE","hash":"f293bcfcdc06c0b77ba13570bb8af55eb5c059fd","modified":1506578403000},{"_id":"themes/next/README.cn.md","hash":"6d9177e7dad87e6129760e4b559bd3f7a15429d7","modified":1506578403000},{"_id":"themes/next/README.md","hash":"950ca6e9c0fa607d290a5b1fd883df44725b36b2","modified":1506578403000},{"_id":"themes/next/_config.yml","hash":"0478e0399ffdc0d3806210bad623fd1b1c5a1ddf","modified":1506587969000},{"_id":"themes/next/gulpfile.coffee","hash":"031bffc483e417b20e90eceb6cf358e7596d2e69","modified":1506578403000},{"_id":"themes/next/bower.json","hash":"7d7938f9da896fe710aa0e9120140e528bf058df","modified":1506578403000},{"_id":"themes/next/package.json","hash":"193dad6f59a588908fac082cc46fe067dac1b84d","modified":1506578403000},{"_id":"source/404/index.md","hash":"20985a7a6a90ab30d4c373bf7f8d1e76955bc458","modified":1506662186000},{"_id":"source/_posts/hexo常用命令笔记.md","hash":"8aa5fd417e47eeb44e868fa5e019b7004ceb17ab","modified":1506662186000},{"_id":"source/_posts/精品文献合集.md","hash":"80b7e168f03b962029c6f10a4ff8c40461f73842","modified":1506662186000},{"_id":"source/_posts/注册、登录和token的安全之道.md","hash":"657cfed008d26ff6462e2a8ebf334afc2c2ae5a5","modified":1506662186000},{"_id":"source/about/index.md","hash":"a674f63ff75c8b0a2a19090bd9a105d21115a7b2","modified":1506662186000},{"_id":"source/categories/index.md","hash":"cb352d5a360da5499dc550fad94cf20321a79dd9","modified":1506662186000},{"_id":"source/iOS/index.md","hash":"a20f69b25da02087c4437fb376e04e71688bb9ec","modified":1506662186000},{"_id":"source/tags/index.md","hash":"f32f048b44a2b14ef63244b73f6ca392dc92fbf9","modified":1506662186000},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1506578403000},{"_id":"themes/next/.git/config","hash":"bf7d1df65cf34d0f25a7184a58c37a09f72e4be7","modified":1506578403000},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1506577931000},{"_id":"themes/next/.git/index","hash":"8d7ac725018cfb331ddf36d9e821c197ff6d7b18","modified":1506667503000},{"_id":"themes/next/.git/packed-refs","hash":"a476816cb73522d446a264df704c6a632081c54a","modified":1506578403000},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"3b5eafd32abb718e56ccf8d1cee0607ad8ce611d","modified":1506578403000},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"902f627155a65099e0a37842ff396a58d0dc306f","modified":1506578403000},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"213d0f6c9c7ed9b035d84486b540a57e24869909","modified":1506578403000},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1506578403000},{"_id":"themes/next/languages/de.yml","hash":"057e7df11ddeb1c8c15a5d7c5ff29430d725ec6b","modified":1506578403000},{"_id":"themes/next/languages/default.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1506578403000},{"_id":"themes/next/languages/fr-FR.yml","hash":"7e4eb7011b8feee641cfb11c6e73180b0ded1c0f","modified":1506578403000},{"_id":"themes/next/languages/en.yml","hash":"44ef3f26917f467459326c2c8be2f73e4d947f35","modified":1506578403000},{"_id":"themes/next/languages/id.yml","hash":"b5de1ea66dd9ef54cac9a1440eaa4e3f5fc011f5","modified":1506578403000},{"_id":"themes/next/languages/it.yml","hash":"aa595f2bda029f73ef7bfa104b4c55c3f4e9fb4c","modified":1506578403000},{"_id":"themes/next/languages/ja.yml","hash":"3c76e16fd19b262864475faa6854b718bc08c4d8","modified":1506578403000},{"_id":"themes/next/languages/ko.yml","hash":"ea5b46056e73ebcee121d5551627af35cbffc900","modified":1506578403000},{"_id":"themes/next/languages/pt-BR.yml","hash":"b1694ae766ed90277bcc4daca4b1cfa19cdcb72b","modified":1506578403000},{"_id":"themes/next/languages/pt.yml","hash":"44b61f2d085b827b507909a0b8f8ce31c6ef5d04","modified":1506578403000},{"_id":"themes/next/languages/ru.yml","hash":"98ec6f0b7183282e11cffc7ff586ceb82400dd75","modified":1506578403000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"b342544b715da19d982349017bd56c5aaca11f71","modified":1506578403000},{"_id":"themes/next/languages/zh-hk.yml","hash":"2ef272bcb1f325480f59f1e2ab95584de3c6b8da","modified":1506578403000},{"_id":"themes/next/languages/zh-tw.yml","hash":"c53941a2eaac8e3a2f8dacc73ed555d3c6c5bd59","modified":1506578403000},{"_id":"themes/next/layout/_layout.swig","hash":"ada7ffc71cf05e7236a19e0648bce6d6d6cbc7dc","modified":1506578403000},{"_id":"themes/next/layout/archive.swig","hash":"f0a8225feafd971419837cdb4bcfec98a4a59b2f","modified":1506578403000},{"_id":"themes/next/layout/category.swig","hash":"4472255f4a3e3dd6d79201523a9526dcabdfbf18","modified":1506578403000},{"_id":"themes/next/layout/index.swig","hash":"783611349c941848a0e26ee2f1dc44dd14879bd1","modified":1506578403000},{"_id":"themes/next/layout/page.swig","hash":"37c874cd720acf0eda8d26e063278f2b6ae8d3a6","modified":1506578403000},{"_id":"themes/next/layout/post.swig","hash":"f8221725bfe3fe52723405b524077973121f17ba","modified":1506578403000},{"_id":"themes/next/layout/schedule.swig","hash":"d86f8de4e118f8c4d778b285c140474084a271db","modified":1506578403000},{"_id":"themes/next/layout/tag.swig","hash":"7e0a7d7d832883eddb1297483ad22c184e4368de","modified":1506578403000},{"_id":"themes/next/scripts/merge-configs.js","hash":"cb617ddf692f56e6b6129564d52e302f50b28243","modified":1506578403000},{"_id":"themes/next/scripts/merge.js","hash":"9130dabe6a674c54b535f322b17d75fe6081472f","modified":1506578403000},{"_id":"themes/next/source/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1506587562000},{"_id":"themes/next/test/.jshintrc","hash":"19f93d13d1689fe033c82eb2d5f3ce30b6543cc0","modified":1506578403000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1506578403000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1506578403000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1506577931000},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1506577931000},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1506577931000},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1506577931000},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1506577931000},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1506577931000},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"18be3eb275c1decd3614e139f5a311b75f1b0ab8","modified":1506577931000},{"_id":"themes/next/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1506577931000},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1506577931000},{"_id":"themes/next/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1506577931000},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1506577931000},{"_id":"themes/next/.git/logs/HEAD","hash":"e4b778339303164ef4b1b8e477481f8351298ff8","modified":1506578403000},{"_id":"themes/next/layout/_custom/header.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1506578403000},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1506578403000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"31322a7f57936cf2dc62e824af5490da5354cf02","modified":1506578403000},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"53d4f83b2b7fb4387dfc9fe81519abd56fbce4ae","modified":1506578403000},{"_id":"themes/next/layout/_macro/post.swig","hash":"767e1d5503ecce85f577c8fb673a3503b65484ce","modified":1506578403000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"56e8d8556cf474c56ae1bef9cb7bbd26554adb07","modified":1506578403000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"3e01900762d889a04379abba37b419972e366698","modified":1506578403000},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"39852700e4084ecccffa6d4669168e5cc0514c9e","modified":1506578403000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"010ef8c42d2e1a95abc60caf757293ca8eb4a68b","modified":1506578403000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"fb02c81273d5897ebb98b50f4c10f7edc34f9240","modified":1506578403000},{"_id":"themes/next/layout/_partials/head.swig","hash":"2cbeae795c9929ec1966b8a1fb9c058a0b547fa9","modified":1506578403000},{"_id":"themes/next/layout/_partials/header.swig","hash":"ed042be6252848058c90109236ec988e392d91d4","modified":1506578403000},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"1efd925d34a5d4ba2dc0838d9c86ba911e705fc9","modified":1506578403000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1506578403000},{"_id":"themes/next/layout/_partials/search.swig","hash":"9dbd378e94abfcb3f864a5b8dbbf18d212ca2ee0","modified":1506578403000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1506578403000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1506578403000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9baf90f7c40b3b10f288e9268c3191e895890cea","modified":1506578403000},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1506578403000},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"7c04a42319d728be356746363aff8ea247791d24","modified":1506578403000},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"6d25596d6a7c57700d37b607f8d9a62d89708683","modified":1506578403000},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"fc93b1a7e6aed0dddb1f3910142b48d8ab61174e","modified":1506578403000},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"22369026c87fc23893c35a7f250b42f3bb1b60f1","modified":1506578403000},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"1ddb2336a1a19b47af3017047012c01ec5f54529","modified":1506578403000},{"_id":"themes/next/scripts/tags/button.js","hash":"62e6dbeb53d07627a048132c79630b45d9a8f2cc","modified":1506578403000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1506578403000},{"_id":"themes/next/scripts/tags/exturl.js","hash":"8d7e60f60779bde050d20fd76f6fdc36fc85e06d","modified":1506578403000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"8eeb3fb89540299bdbb799edfdfdac3743b50596","modified":1506578403000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1506578403000},{"_id":"themes/next/scripts/tags/label.js","hash":"2f8f41a7316372f0d1ed6b51190dc4acd3e16fff","modified":1506578403000},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"eeeabede68cf263de9e6593ecf682f620da16f0a","modified":1506578403000},{"_id":"themes/next/scripts/tags/note.js","hash":"64de4e9d01cf3b491ffc7d53afdf148ee5ad9779","modified":1506578403000},{"_id":"themes/next/scripts/tags/tabs.js","hash":"5786545d51c38e8ca38d1bfc7dd9e946fc70a316","modified":1506578403000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1506578403000},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1506578403000},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1506578403000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1506578403000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1506578403000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1506578403000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1506578403000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1506578403000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1506578403000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1506578403000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1506578403000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1506578403000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1506578403000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1506578403000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1506578403000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1506578403000},{"_id":"themes/next/.git/refs/heads/master","hash":"13d37f01583769457bc3fe358d073c15dca3c674","modified":1506578403000},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"9e1b9666efa77f4cf8d8261bcfa445a9ac608e53","modified":1506578403000},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"7ce76358411184482bb0934e70037949dd0da8ca","modified":1506578403000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"957701729b85fb0c5bfcf2fb99c19d54582f91ed","modified":1506578403000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1506578403000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1506578403000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"23e23dc0f76ef3c631f24c65277adf7ea517b383","modified":1506578403000},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"1f1107468aaf03f7d0dcd7eb2b653e2813a675b4","modified":1506578403000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1506578403000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"048fd5e98149469f8c28c21ba3561a7a67952c9b","modified":1506578403000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"069d1357c717572256e5cdee09574ebce529cbae","modified":1506578403000},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1506578403000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"98df9d72e37dd071e882f2d5623c9d817815b139","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"60426bf73f8a89ba61fb1be2df3ad5398e32c4ef","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"deda6a814ed48debc694c4e0c466f06c127163d0","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"18e7bef8923d83ea42df6c97405e515a876cede4","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"8160b27bee0aa372c7dc7c8476c05bae57f58d0f","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"a234c5cd1f75ca5731e814d0dbb92fdcf9240d1b","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"5d9943d74cc2e0a91badcf4f755c6de77eab193a","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"5e9bb24c750b49513d9a65799e832f07410002ac","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"fc65b9c98a0a8ab43a5e7aabff6c5f03838e09c8","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"0ddc94ed4ba0c19627765fdf1abc4d8efbe53d5a","modified":1506578403000},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"c3971fd154d781088e1cc665035f8561a4098f4c","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"0e3378f7c39b2b0f69638290873ede6b6b6825c0","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"c316758546dc9ba6c60cb4d852c17ca6bb6d6724","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"a356b2185d40914447fde817eb3d358ab6b3e4c3","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"3e8dc5c6c912628a37e3b5f886bec7b2e5ed14ea","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"576e716893153a855eaf6d136fad7cb6d4065e09","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"8a2e393d2e49f7bf560766d8a07cd461bf3fce4f","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"9f4ed36c73e890909b8ebbe601fb60e13d048288","modified":1506578403000},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"8b6650f77fe0a824c8075b2659e0403e0c78a705","modified":1506578403000},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"c747fb5c6b1f500e8f0c583e44195878b66e4e29","modified":1506578403000},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"385c066af96bee30be2459dbec8aae1f15d382f5","modified":1506578403000},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1506578403000},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"c057b17f79e8261680fbae8dc4e81317a127c799","modified":1506578403000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1506578403000},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"2aa5b7166a85a8aa34b17792ae4f58a5a96df6cc","modified":1506578403000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"9ab65361ba0a12a986edd103e56492644c2db0b8","modified":1506578403000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"82f9055955920ed88a2ab6a20ab02169abb2c634","modified":1506578403000},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"6359c84aaa02c90be60b22abe638b737ddd69c9c","modified":1506578403000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1506578403000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"cfee25d790e4f9b7d57f0dc7e2ea9c1649f08f11","modified":1506578403000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"666a32952adff1396b0d241569c6df71d83ead24","modified":1506578403000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1506578403000},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1506578403000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1506578403000},{"_id":"themes/next/source/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1506578403000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1506578403000},{"_id":"themes/next/source/js/src/motion.js","hash":"da146caf488078a634d961debf2a71ce4106018c","modified":1506578403000},{"_id":"themes/next/source/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1506578403000},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1506578403000},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1506578403000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1506578403000},{"_id":"themes/next/source/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1506578403000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1506578403000},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1506578403000},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1506578403000},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1506578403000},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1506578403000},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1506578403000},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"a2aaaf12378db56bd10596ba3daae30950eac051","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1506578403000},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1506578403000},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1506578403000},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1506578403000},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1506578403000},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1506578403000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1506578403000},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1506578403000},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1506578403000},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1506578403000},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1506578403000},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1506578403000},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1506578403000},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1506578403000},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1506578403000},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1506578403000},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1506578403000},{"_id":"themes/next/source/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1506578403000},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"e4b778339303164ef4b1b8e477481f8351298ff8","modified":1506578403000},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1506578403000},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"28ff4ed6714c59124569ffcbd10f1173d53ca923","modified":1506578403000},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"ba698f49dd3a868c95b240d802f5b1b24ff287e4","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"d026c8489f66ab6c12ad04bd37f1d5b6f2f3f0d1","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"31050fc7a25784805b4843550151c93bfa55c9c8","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"a6bb5256be6195e76addbda12f4ed7c662d65e7a","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"c5d48863f332ff8ce7c88dec2c893f709d7331d3","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1506578403000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1506578403000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"f7c44b0ee46cf2cf82a4c9455ba8d8b55299976f","modified":1506578403000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"9c25c75311e1bd4d68df031d3f2ae6d141a90766","modified":1506578403000},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"86b6fd7f1b1be3ae98f8af6b23a6b1299c670ce9","modified":1506578403000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1506578403000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a280a583b7615e939aaddbf778f5c108ef8a2a6c","modified":1506578403000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"64f5d56c08d74a338813df1265580ca0cbf0190b","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"bc8c388553bbcf95897459a466ba35bffd5ec5f0","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"5ae7906dc7c1d9468c7f4b4a6feddddc555797a1","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"b0dcca862cd0cc6e732e33d975b476d744911742","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"5e6c9f8a730b78c7ce5572d327c2a7311c3609b9","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9a5581a770af8964064fef7afd3e16963e45547f","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"0efa036a15c18f5abb058b7c0fad1dd9ac5eed4c","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"82bbaa6322764779a1ac2e2c8390ce901c7972e2","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"a0e2030a606c934fb2c5c7373aaae04a1caac4c5","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"c4ed249798296f60bda02351fe6404fb3ef2126f","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"5b93958239d3d2bf9aeaede44eced2434d784462","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"215de948be49bcf14f06d500cef9f7035e406a43","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"264a52c0a7877381f9a6a87d495757a0ba7e29d6","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"69ecd6c97e7cdfd822ac8102b45ad0ede85050db","modified":1506578403000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1506578403000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1506578403000},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1506578403000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1506578403000},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1506578403000},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1506578403000},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"e4b778339303164ef4b1b8e477481f8351298ff8","modified":1506578403000},{"_id":"themes/next/.git/objects/pack/pack-9cd1cbc0f9c9c0b1b4b9becee91b151145312118.idx","hash":"f84443ef4f2d75ad1dd31ed9f60fb45556aa5136","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"7905a7f625702b45645d8be1268cb8af3f698c70","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"8a2421cb9005352905fae9d41a847ae56957247e","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"6c00f6e0978f4d8f9a846a15579963728aaa6a17","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"96f32ea6c3265a3889e6abe57587f6e2a2a40dfb","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"740d37f428b8f4574a76fc95cc25e50e0565f45e","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"b76387934fb6bb75212b23c1a194486892cc495e","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"f5aa2ba3bfffc15475e7e72a55b5c9d18609fdf5","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4eff5b252d7b614e500fc7d52c97ce325e57d3ab","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"2039590632bba3943c39319d80ef630af7928185","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"a82afbb72d83ee394aedc7b37ac0008a9823b4f4","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"0a6c0efffdf18bddbc1d1238feaed282b09cd0fe","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"920343e41c124221a17f050bbb989494d44f7a24","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"89dd4f8b1f1cce3ad46cf2256038472712387d02","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"efa5e5022e205b52786ce495d4879f5e7b8f84b2","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"57d2c8a060f5e4e1a0aef9aae11a0016cf7ac5ba","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"77c92a449ce84d558d26d052681f2e0dd77c70c9","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"f7784aba0c1cd20d824c918c120012d57a5eaa2a","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"3623e7fa4324ec1307370f33d8f287a9e20a5578","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"beccb53dcd658136fb91a0c5678dea8f37d6e0b6","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"0f7f522cc6bfb3401d5afd62b0fcdf48bb2d604b","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"f54367c0feda6986c030cc4d15a0ca6ceea14bcb","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"8bb08dcb8e5c5dcc5044ef1d8981d8dc16ec6036","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"aea21141015ca8c409d8b33e3e34ec505f464e93","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"a5d8617a24d7cb6c5ad91ea621183ca2c0917331","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"36332c8a91f089f545f3c3e8ea90d08aa4d6e60c","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"017074ef58166e2d69c53bb7590a0e7a8947a1ed","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"d5a4e4fc17f1f7e7c3a61b52d8e2e9677e139de7","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"08a500b2984f109b751f3697ca33172d1340591a","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"8c15f9a179c47c3f61e56577ece63fa8c9393ac6","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"1b3cc9f4e5a7f6e05b4100e9990b37b20d4a2005","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"b8969e1654eec89a0fd10d88b337fee9cb03cd44","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"45df0cf4c97b47e05573bcd41028ee50f3fdf432","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"4a457d265d62f287c63d48764ce45d9bcfc9ec5a","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"32c9156bea5bac9e9ad0b4c08ffbca8b3d9aac4b","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"4ab5deed8c3b0c338212380f678f8382672e1bcb","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"ead0d0f2321dc71505788c7f689f92257cf14947","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"fd42777b9125fd8969dc39d4f15473e2b91b4142","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"d4e6d8d7b34dc69994593c208f875ae8f7e8a3ae","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"93b08815c4d17e2b96fef8530ec1f1064dede6ef","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"cce6772e2cdb4db85d35486ae4c6c59367fbdd40","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"d89c4b562b528e4746696b2ad8935764d133bdae","modified":1506578403000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"aeff0e6e23725e8baea27c890ccbbf466024f767","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"5dc4859c66305f871e56cba78f64bfe3bf1b5f01","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1506578403000},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"817587e46df49e819858c8ecbafa08b53d5ff040","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1506578403000},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1506578403000},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1506578403000},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1506578403000},{"_id":"themes/next/source/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1506578403000},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1506578403000},{"_id":"themes/next/.git/objects/pack/pack-9cd1cbc0f9c9c0b1b4b9becee91b151145312118.pack","hash":"a678da08e6d3af400e24781b42e2704f700d2bc6","modified":1506578403000},{"_id":"public/404/index.html","hash":"09dc7038df87d9c974c6c694a38368ce721cf6d5","modified":1506667974331},{"_id":"public/about/index.html","hash":"34a00b17d8f52fdc656608454b42e135a52c0fb9","modified":1506667974331},{"_id":"public/categories/index.html","hash":"3bf7b74260b14182365349434c8a6a965bc8255b","modified":1506667974331},{"_id":"public/iOS/index.html","hash":"25669d4a484740ef877abadff92e66db696af9b4","modified":1506667974331},{"_id":"public/tags/index.html","hash":"522e1e74deba6682632755ea6705d3f3d7dc45e9","modified":1506667974331},{"_id":"public/2017/09/28/精品文献合集/index.html","hash":"b43bc833c8f9eabb6339c8bb3bca265790186512","modified":1506667974331},{"_id":"public/categories/PHP/index.html","hash":"f767a1e3eee351df0583c73f11012abb7b01dbb4","modified":1506667974331},{"_id":"public/archives/index.html","hash":"c5de75825838bc90ac9394aaa280a6c10c8e153a","modified":1506667974331},{"_id":"public/archives/2017/index.html","hash":"8c3e11341676e89d4290646c669f4666f2136030","modified":1506667974331},{"_id":"public/archives/2017/09/index.html","hash":"8afa99d9e318835aca8ec6eb3d4ef06a7fff71ba","modified":1506667974331},{"_id":"public/tags/hexo/index.html","hash":"993839561d6615c684aca9273c9d67c54922a6a7","modified":1506667974331},{"_id":"public/tags/iOS/index.html","hash":"b3e3f84e12e549fe6d18396a8e9b6e057fa2a755","modified":1506667974331},{"_id":"public/tags/Android/index.html","hash":"e446767e86638ecb61761f22fc0cca90d9e8d218","modified":1506667974331},{"_id":"public/tags/Python/index.html","hash":"2d8bb1f49023ca84f08148bd0592c17a70b552be","modified":1506667974332},{"_id":"public/tags/PHP/index.html","hash":"40719cd2ee631d421c916754f0c626aa3798a614","modified":1506667974332},{"_id":"public/tags/Interface/index.html","hash":"8a8ee0f1d23ac4bc4c5fcc6cbbe9cf21b3293a10","modified":1506667974332},{"_id":"public/2017/09/29/hexo常用命令笔记/index.html","hash":"67e672fe09e7fc686b70644e8c2dcb255fa6f513","modified":1506667974332},{"_id":"public/2017/09/28/注册、登录和token的安全之道/index.html","hash":"50a0d4dbba165f7671227fe2bfe3531586a21075","modified":1506667974332},{"_id":"public/index.html","hash":"97d36a8de553e6815ea8f2a13af326dd76753195","modified":1506667974332},{"_id":"public/CNAME","hash":"5cb6e08e295779f4b3418c1eb463c44dac183f7e","modified":1506667974360},{"_id":"public/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1506667974360},{"_id":"public/images/algolia_logo.svg","hash":"ec119560b382b2624e00144ae01c137186e91621","modified":1506667974360},{"_id":"public/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1506667974360},{"_id":"public/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1506667974360},{"_id":"public/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1506667974360},{"_id":"public/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1506667974360},{"_id":"public/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1506667974360},{"_id":"public/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1506667974361},{"_id":"public/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1506667974361},{"_id":"public/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1506667974361},{"_id":"public/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1506667974361},{"_id":"public/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1506667974361},{"_id":"public/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1506667974362},{"_id":"public/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1506667974362},{"_id":"public/lib/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1506667974362},{"_id":"public/lib/font-awesome/HELP-US-OUT.txt","hash":"4f7bf961f1bed448f6ba99aeb9219fabf930ba96","modified":1506667974362},{"_id":"public/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1506667974362},{"_id":"public/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1506667974362},{"_id":"public/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1506667974362},{"_id":"public/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1506667974362},{"_id":"public/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1506667974362},{"_id":"public/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1506667974362},{"_id":"public/lib/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1506667974362},{"_id":"public/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1506667974362},{"_id":"public/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1506667974362},{"_id":"public/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1506667974362},{"_id":"public/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1506667974362},{"_id":"public/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1506667974362},{"_id":"public/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1506667974363},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1506667974946},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1506667974964},{"_id":"public/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1506667974977},{"_id":"public/js/src/algolia-search.js","hash":"b172f697ed339a24b1e80261075232978d164c35","modified":1506667974977},{"_id":"public/js/src/bootstrap.js","hash":"034bc8113e0966fe2096ba5b56061bbf10ef0512","modified":1506667974977},{"_id":"public/js/src/exturl.js","hash":"e42e2aaab7bf4c19a0c8e779140e079c6aa5c0b1","modified":1506667974977},{"_id":"public/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1506667974977},{"_id":"public/js/src/motion.js","hash":"da146caf488078a634d961debf2a71ce4106018c","modified":1506667974977},{"_id":"public/js/src/post-details.js","hash":"0693695a9512641daff63d99da772625a058ab18","modified":1506667974977},{"_id":"public/js/src/js.cookie.js","hash":"9b37973a90fd50e71ea91682265715e45ae82c75","modified":1506667974977},{"_id":"public/js/src/scroll-cookie.js","hash":"09dc828cbf5f31158ff6250d2bf7c3cde6365c67","modified":1506667974977},{"_id":"public/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1506667974977},{"_id":"public/js/src/utils.js","hash":"2917c39c75b14b6dab7e1c46ab4d87b4df9fcd5d","modified":1506667974977},{"_id":"public/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1506667974977},{"_id":"public/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1506667974977},{"_id":"public/lib/canvas-ribbon/canvas-ribbon.js","hash":"7fd2f3e2773555392ef40df40cae3bedb884f17a","modified":1506667974977},{"_id":"public/lib/fastclick/bower.json","hash":"4dcecf83afddba148464d5339c93f6d0aa9f42e9","modified":1506667974977},{"_id":"public/lib/fastclick/README.html","hash":"da3c74d484c73cc7df565e8abbfa4d6a5a18d4da","modified":1506667974977},{"_id":"public/lib/font-awesome/bower.json","hash":"64394a2a9aa00f8e321d8daa5e51a420f0e96dad","modified":1506667974977},{"_id":"public/lib/jquery_lazyload/CONTRIBUTING.html","hash":"a6358170d346af13b1452ac157b60505bec7015c","modified":1506667974977},{"_id":"public/lib/jquery_lazyload/README.html","hash":"bde24335f6bc09d8801c0dcd7274f71b466552bd","modified":1506667974977},{"_id":"public/lib/jquery_lazyload/bower.json","hash":"ae3c3b61e6e7f9e1d7e3585ad854380ecc04cf53","modified":1506667974977},{"_id":"public/lib/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1506667974977},{"_id":"public/lib/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1506667974978},{"_id":"public/lib/pace/pace.min.js","hash":"9944dfb7814b911090e96446cea4d36e2b487234","modified":1506667974978},{"_id":"public/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1506667974978},{"_id":"public/lib/velocity/bower.json","hash":"0ef14e7ccdfba5db6eb3f8fc6aa3b47282c36409","modified":1506667974978},{"_id":"public/lib/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1506667974978},{"_id":"public/js/src/schemes/pisces.js","hash":"79da92119bc246fe05d1626ac98426a83ec90a94","modified":1506667974978},{"_id":"public/lib/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1506667974978},{"_id":"public/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1506667974978},{"_id":"public/lib/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1506667974978},{"_id":"public/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1506667974978},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1506667974978},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1506667974978},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1506667974978},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1506667974978},{"_id":"public/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1506667974978},{"_id":"public/css/main.css","hash":"947cd55e2b6d6b6107a08865e2e04e3687ee3f96","modified":1506667974978},{"_id":"public/lib/three/canvas_lines.min.js","hash":"dce4a3b65f8bf958f973690caa7ec4952f353b0c","modified":1506667974979},{"_id":"public/lib/three/canvas_sphere.min.js","hash":"d8ea241a53c135a650f7335d2b6982b899fd58a9","modified":1506667974979},{"_id":"public/lib/three/three-waves.min.js","hash":"d968cba6b3a50b3626a02d67b544f349d83b147c","modified":1506667974979},{"_id":"public/lib/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1506667974979},{"_id":"public/lib/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1506667974979},{"_id":"public/lib/Han/dist/han.css","hash":"bd40da3fba8735df5850956814e312bd7b3193d7","modified":1506667974979},{"_id":"public/lib/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1506667974979},{"_id":"public/lib/Han/dist/han.min.js","hash":"f559c68a25065a14f47da954a7617d87263e409d","modified":1506667974979},{"_id":"public/lib/Han/dist/han.min.css","hash":"a0c9e32549a8b8cf327ab9227b037f323cdb60ee","modified":1506667974979},{"_id":"public/lib/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1506667974979},{"_id":"public/lib/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1506667974979},{"_id":"public/lib/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1506667974979},{"_id":"public/lib/font-awesome/css/font-awesome.css","hash":"0140952c64e3f2b74ef64e050f2fe86eab6624c8","modified":1506667974979},{"_id":"public/lib/font-awesome/css/font-awesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1506667974979},{"_id":"public/lib/Han/dist/han.js","hash":"e345397e0585c9fed1449e614ec13e0224acf2ab","modified":1506667974979},{"_id":"public/lib/velocity/velocity.js","hash":"9f08181baea0cc0e906703b7e5df9111b9ef3373","modified":1506667974979},{"_id":"public/lib/algolia-instant-search/instantsearch.min.js","hash":"9ccc6f8144f54e86df9a3fd33a18368d81cf3a4f","modified":1506667974979},{"_id":"public/lib/three/three.min.js","hash":"73f4cdc17e51a72b9bf5b9291f65386d615c483b","modified":1506667974979},{"_id":"public/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1506667974980},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1506667974980},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1506667974980},{"_id":"public/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1506667974985}],"Category":[{"name":"PHP","_id":"cj85j7k7e00086rut2zoyocum"}],"Data":[],"Page":[{"title":"404","date":"2017-09-28T08:12:45.000Z","type":"commonweal","comments":0,"_content":"","source":"404/index.md","raw":"---\ntitle: 404\ndate: 2017-09-28 16:12:45\ntype: \"commonweal\"\ncomments: false\n---\n","updated":"2017-09-29T05:16:26.000Z","path":"404/index.html","layout":"page","_id":"cj85j7k6x00006rutcchcg279","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"About Me","date":"2017-09-18T06:32:54.000Z","_content":"> - 会点前端，写点后台，写过易语言，研究过文件系统，做过iOS安全，搞些越狱开发，学点Android。","source":"about/index.md","raw":"---\ntitle: About Me\ndate: 2017-09-18 14:32:54\n---\n> - 会点前端，写点后台，写过易语言，研究过文件系统，做过iOS安全，搞些越狱开发，学点Android。","updated":"2017-09-29T05:16:26.000Z","path":"about/index.html","comments":1,"layout":"page","_id":"cj85j7k7200026rutt7u3coza","content":"<blockquote>\n<ul>\n<li>会点前端，写点后台，写过易语言，研究过文件系统，做过iOS安全，搞些越狱开发，学点Android。</li>\n</ul>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<ul>\n<li>会点前端，写点后台，写过易语言，研究过文件系统，做过iOS安全，搞些越狱开发，学点Android。</li>\n</ul>\n</blockquote>\n"},{"title":"分类","date":"2017-09-28T02:22:42.000Z","type":"categories","comments":0,"layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类\ndate: 2017-09-28 10:22:42\ntype: \"categories\"\ncomments: false\nlayout: categories\n---\n","updated":"2017-09-29T05:16:26.000Z","path":"categories/index.html","_id":"cj85j7k7a00056rutzc8dj2wc","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"iOS","date":"2017-09-28T03:37:46.000Z","_content":"","source":"iOS/index.md","raw":"---\ntitle: iOS\ndate: 2017-09-28 11:37:46\n---\n","updated":"2017-09-29T05:16:26.000Z","path":"iOS/index.html","comments":1,"layout":"page","_id":"cj85j7k7d00076rutaalc2mz8","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"标签","date":"2017-09-28T08:06:39.000Z","type":"tags","comments":0,"layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2017-09-28 16:06:39\ntype: \"tags\"\ncomments: false\nlayout: tags\n---\n","updated":"2017-09-29T05:16:26.000Z","path":"tags/index.html","_id":"cj85j7k7e00096rutbjxm6c9r","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"Hexo常用命令笔记","date":"2017-09-29T02:01:28.000Z","_content":"\n```\nnpm install hexo -g #安装  \nnpm update hexo -g #升级  \nhexo init #初始化\n\n```\n\n> 简写\n\n```\nhexo n \"我的博客\" == hexo new \"我的博客\" #新建文章\nhexo p == hexo publish\nhexo g == hexo generate#生成\nhexo s == hexo server #启动服务预览\nhexo d == hexo deploy#部署\n\n```\n> 服务器\n\n```\nhexo server #Hexo 会监视文件变动并自动更新，您无须重启服务器。\nhexo server -s #静态模式\nhexo server -p 5000 #更改端口\nhexo server -i 192.168.1.1 #自定义 IP\n\nhexo clean #清除缓存 网页正常情况下可以忽略此条命令\nhexo g #生成静态网页\nhexo d #开始部署\n```\n> 监视文件变动\n\n```\nhexo generate #使用 Hexo 生成静态文件快速而且简单\nhexo generate --watch #监视文件变动\n```\n> 完成后部署\n\n```\n两个命令的作用是相同的\nhexo generate --deploy\nhexo deploy --generate\n```\n\n> 草稿\n\n```\nhexo publish [layout] <title>\n```\n\n> 模版\n\n```\nhexo new \"postName\" #新建文章\nhexo new page \"pageName\" #新建页面\nhexo generate #生成静态页面至public目录\nhexo server #开启预览访问端口（默认端口4000，'ctrl + c'关闭server）\nhexo deploy #将.deploy目录部署到GitHub\n\nhexo new [layout] <title>\nhexo new photo \"My Gallery\"\nhexo new \"Hello World\" --lang tw\n```\n\n> 推送到服务器上\n\n```\nhexo n #写文章\nhexo g #生成\nhexo d #部署 #可与hexo g合并为 hexo d -g\n```\n> 报错\n\n```\n1.找不到git部署\nERROR Deployer not found: git\n解决方法\n\nnpm install hexo-deployer-git --save\n\n2.部署类型设置git\nhexo 3.0 部署类型不再是github，_config.yml 中修改\n\n Deployment\n Docs: http://hexo.io/docs/deployment.html\n\ndeploy:\n  type: git\n  repository: git@***.github.com:***/***.github.io.git\n  branch: master\n\n3. xcodebuild\nxcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instance\n\nnpm install bcrypt\n\n4. RSS不显示\n安装RSS插件\n\nnpm install hexo-generator-feed --save\n```\n> 开启RSS功能编辑hexo/_config.yml，添加如下代码：\n\n```\nrss: /atom.xml #rss地址  默认即可\n```\n\n> 开启评论\n\n- 1.我使用多说代替自带的评论，在多说 网站注册 > 后台管理 > 添加新站点 > 工具 === 复制通用代码 里面有 short_name\n- 2.在根目录 _config.yml 添加一行 disqus_shortname: jslite 是在多说注册时产生的\n- 3.复制到 themes\\landscape\\layout\\_partial\\article.ejs\n- 4.把下面这段代码\n\n```\n<% if (!index && post.comments && config.disqus_shortname){ %>\n<section id=\"comments\">\n<div id=\"disqus_thread\">\n  <noscript>Please enable JavaScript to view the <a href=\"//disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n</div>\n</section>\n<% } %>\n```\n改为\n\n```\n<% if (!index && post.comments && config.disqus_shortname){ %>\n  <section id=\"comments\">\n    <!-- 多说评论框 start -->\n    <div class=\"ds-thread\" data-thread-key=\"<%= post.layout %>-<%= post.slug %>\" data-title=\"<%= post.title %>\" data-url=\"<%= page.permalink %>\"></div>\n    <!-- 多说评论框 end -->\n    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->\n    <script type=\"text/javascript\">\n    var duoshuoQuery = {short_name:'<%= config.disqus_shortname %>'};\n      (function() {\n        var ds = document.createElement('script');\n        ds.type = 'text/javascript';ds.async = true;\n        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';\n        ds.charset = 'UTF-8';\n        (document.getElementsByTagName('head')[0] \n         || document.getElementsByTagName('body')[0]).appendChild(ds);\n      })();\n      </script>\n    <!-- 多说公共JS代码 end -->\n  </section>\n<% } %>\n```","source":"_posts/hexo常用命令笔记.md","raw":"---\ntitle: Hexo常用命令笔记\ndate: 2017-09-29 10:01:28\ntags: hexo\n---\n\n```\nnpm install hexo -g #安装  \nnpm update hexo -g #升级  \nhexo init #初始化\n\n```\n\n> 简写\n\n```\nhexo n \"我的博客\" == hexo new \"我的博客\" #新建文章\nhexo p == hexo publish\nhexo g == hexo generate#生成\nhexo s == hexo server #启动服务预览\nhexo d == hexo deploy#部署\n\n```\n> 服务器\n\n```\nhexo server #Hexo 会监视文件变动并自动更新，您无须重启服务器。\nhexo server -s #静态模式\nhexo server -p 5000 #更改端口\nhexo server -i 192.168.1.1 #自定义 IP\n\nhexo clean #清除缓存 网页正常情况下可以忽略此条命令\nhexo g #生成静态网页\nhexo d #开始部署\n```\n> 监视文件变动\n\n```\nhexo generate #使用 Hexo 生成静态文件快速而且简单\nhexo generate --watch #监视文件变动\n```\n> 完成后部署\n\n```\n两个命令的作用是相同的\nhexo generate --deploy\nhexo deploy --generate\n```\n\n> 草稿\n\n```\nhexo publish [layout] <title>\n```\n\n> 模版\n\n```\nhexo new \"postName\" #新建文章\nhexo new page \"pageName\" #新建页面\nhexo generate #生成静态页面至public目录\nhexo server #开启预览访问端口（默认端口4000，'ctrl + c'关闭server）\nhexo deploy #将.deploy目录部署到GitHub\n\nhexo new [layout] <title>\nhexo new photo \"My Gallery\"\nhexo new \"Hello World\" --lang tw\n```\n\n> 推送到服务器上\n\n```\nhexo n #写文章\nhexo g #生成\nhexo d #部署 #可与hexo g合并为 hexo d -g\n```\n> 报错\n\n```\n1.找不到git部署\nERROR Deployer not found: git\n解决方法\n\nnpm install hexo-deployer-git --save\n\n2.部署类型设置git\nhexo 3.0 部署类型不再是github，_config.yml 中修改\n\n Deployment\n Docs: http://hexo.io/docs/deployment.html\n\ndeploy:\n  type: git\n  repository: git@***.github.com:***/***.github.io.git\n  branch: master\n\n3. xcodebuild\nxcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instance\n\nnpm install bcrypt\n\n4. RSS不显示\n安装RSS插件\n\nnpm install hexo-generator-feed --save\n```\n> 开启RSS功能编辑hexo/_config.yml，添加如下代码：\n\n```\nrss: /atom.xml #rss地址  默认即可\n```\n\n> 开启评论\n\n- 1.我使用多说代替自带的评论，在多说 网站注册 > 后台管理 > 添加新站点 > 工具 === 复制通用代码 里面有 short_name\n- 2.在根目录 _config.yml 添加一行 disqus_shortname: jslite 是在多说注册时产生的\n- 3.复制到 themes\\landscape\\layout\\_partial\\article.ejs\n- 4.把下面这段代码\n\n```\n<% if (!index && post.comments && config.disqus_shortname){ %>\n<section id=\"comments\">\n<div id=\"disqus_thread\">\n  <noscript>Please enable JavaScript to view the <a href=\"//disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>\n</div>\n</section>\n<% } %>\n```\n改为\n\n```\n<% if (!index && post.comments && config.disqus_shortname){ %>\n  <section id=\"comments\">\n    <!-- 多说评论框 start -->\n    <div class=\"ds-thread\" data-thread-key=\"<%= post.layout %>-<%= post.slug %>\" data-title=\"<%= post.title %>\" data-url=\"<%= page.permalink %>\"></div>\n    <!-- 多说评论框 end -->\n    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->\n    <script type=\"text/javascript\">\n    var duoshuoQuery = {short_name:'<%= config.disqus_shortname %>'};\n      (function() {\n        var ds = document.createElement('script');\n        ds.type = 'text/javascript';ds.async = true;\n        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';\n        ds.charset = 'UTF-8';\n        (document.getElementsByTagName('head')[0] \n         || document.getElementsByTagName('body')[0]).appendChild(ds);\n      })();\n      </script>\n    <!-- 多说公共JS代码 end -->\n  </section>\n<% } %>\n```","slug":"hexo常用命令笔记","published":1,"updated":"2017-09-29T05:16:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj85j7k6z00016rut9q2o5mur","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo -g #安装  </div><div class=\"line\">npm update hexo -g #升级  </div><div class=\"line\">hexo init #初始化</div></pre></td></tr></table></figure>\n<blockquote>\n<p>简写</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo n &quot;我的博客&quot; == hexo new &quot;我的博客&quot; #新建文章</div><div class=\"line\">hexo p == hexo publish</div><div class=\"line\">hexo g == hexo generate#生成</div><div class=\"line\">hexo s == hexo server #启动服务预览</div><div class=\"line\">hexo d == hexo deploy#部署</div></pre></td></tr></table></figure>\n<blockquote>\n<p>服务器</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo server #Hexo 会监视文件变动并自动更新，您无须重启服务器。</div><div class=\"line\">hexo server -s #静态模式</div><div class=\"line\">hexo server -p 5000 #更改端口</div><div class=\"line\">hexo server -i 192.168.1.1 #自定义 IP</div><div class=\"line\"></div><div class=\"line\">hexo clean #清除缓存 网页正常情况下可以忽略此条命令</div><div class=\"line\">hexo g #生成静态网页</div><div class=\"line\">hexo d #开始部署</div></pre></td></tr></table></figure>\n<blockquote>\n<p>监视文件变动</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo generate #使用 Hexo 生成静态文件快速而且简单</div><div class=\"line\">hexo generate --watch #监视文件变动</div></pre></td></tr></table></figure>\n<blockquote>\n<p>完成后部署</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">两个命令的作用是相同的</div><div class=\"line\">hexo generate --deploy</div><div class=\"line\">hexo deploy --generate</div></pre></td></tr></table></figure>\n<blockquote>\n<p>草稿</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo publish [layout] &lt;title&gt;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>模版</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo new &quot;postName&quot; #新建文章</div><div class=\"line\">hexo new page &quot;pageName&quot; #新建页面</div><div class=\"line\">hexo generate #生成静态页面至public目录</div><div class=\"line\">hexo server #开启预览访问端口（默认端口4000，&apos;ctrl + c&apos;关闭server）</div><div class=\"line\">hexo deploy #将.deploy目录部署到GitHub</div><div class=\"line\"></div><div class=\"line\">hexo new [layout] &lt;title&gt;</div><div class=\"line\">hexo new photo &quot;My Gallery&quot;</div><div class=\"line\">hexo new &quot;Hello World&quot; --lang tw</div></pre></td></tr></table></figure>\n<blockquote>\n<p>推送到服务器上</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo n #写文章</div><div class=\"line\">hexo g #生成</div><div class=\"line\">hexo d #部署 #可与hexo g合并为 hexo d -g</div></pre></td></tr></table></figure>\n<blockquote>\n<p>报错</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">1.找不到git部署</div><div class=\"line\">ERROR Deployer not found: git</div><div class=\"line\">解决方法</div><div class=\"line\"></div><div class=\"line\">npm install hexo-deployer-git --save</div><div class=\"line\"></div><div class=\"line\">2.部署类型设置git</div><div class=\"line\">hexo 3.0 部署类型不再是github，_config.yml 中修改</div><div class=\"line\"></div><div class=\"line\"> Deployment</div><div class=\"line\"> Docs: http://hexo.io/docs/deployment.html</div><div class=\"line\"></div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repository: git@***.github.com:***/***.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\"></div><div class=\"line\">3. xcodebuild</div><div class=\"line\">xcode-select: error: tool &apos;xcodebuild&apos; requires Xcode, but active developer directory &apos;/Library/Developer/CommandLineTools&apos; is a command line tools instance</div><div class=\"line\"></div><div class=\"line\">npm install bcrypt</div><div class=\"line\"></div><div class=\"line\">4. RSS不显示</div><div class=\"line\">安装RSS插件</div><div class=\"line\"></div><div class=\"line\">npm install hexo-generator-feed --save</div></pre></td></tr></table></figure>\n<blockquote>\n<p>开启RSS功能编辑hexo/_config.yml，添加如下代码：</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">rss: /atom.xml #rss地址  默认即可</div></pre></td></tr></table></figure>\n<blockquote>\n<p>开启评论</p>\n</blockquote>\n<ul>\n<li>1.我使用多说代替自带的评论，在多说 网站注册 &gt; 后台管理 &gt; 添加新站点 &gt; 工具 === 复制通用代码 里面有 short_name</li>\n<li>2.在根目录 _config.yml 添加一行 disqus_shortname: jslite 是在多说注册时产生的</li>\n<li>3.复制到 themes\\landscape\\layout_partial\\article.ejs</li>\n<li>4.把下面这段代码</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</div><div class=\"line\">&lt;section id=&quot;comments&quot;&gt;</div><div class=\"line\">&lt;div id=&quot;disqus_thread&quot;&gt;</div><div class=\"line\">  &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;//disqus.com/?ref_noscript&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</div><div class=\"line\">&lt;/div&gt;</div><div class=\"line\">&lt;/section&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n<p>改为</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</div><div class=\"line\">  &lt;section id=&quot;comments&quot;&gt;</div><div class=\"line\">    &lt;!-- 多说评论框 start --&gt;</div><div class=\"line\">    &lt;div class=&quot;ds-thread&quot; data-thread-key=&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot; data-title=&quot;&lt;%= post.title %&gt;&quot; data-url=&quot;&lt;%= page.permalink %&gt;&quot;&gt;&lt;/div&gt;</div><div class=\"line\">    &lt;!-- 多说评论框 end --&gt;</div><div class=\"line\">    &lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</div><div class=\"line\">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">    var duoshuoQuery = &#123;short_name:&apos;&lt;%= config.disqus_shortname %&gt;&apos;&#125;;</div><div class=\"line\">      (function() &#123;</div><div class=\"line\">        var ds = document.createElement(&apos;script&apos;);</div><div class=\"line\">        ds.type = &apos;text/javascript&apos;;ds.async = true;</div><div class=\"line\">        ds.src = (document.location.protocol == &apos;https:&apos; ? &apos;https:&apos; : &apos;http:&apos;) + &apos;//static.duoshuo.com/embed.js&apos;;</div><div class=\"line\">        ds.charset = &apos;UTF-8&apos;;</div><div class=\"line\">        (document.getElementsByTagName(&apos;head&apos;)[0] </div><div class=\"line\">         || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(ds);</div><div class=\"line\">      &#125;)();</div><div class=\"line\">      &lt;/script&gt;</div><div class=\"line\">    &lt;!-- 多说公共JS代码 end --&gt;</div><div class=\"line\">  &lt;/section&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">npm install hexo -g #安装  </div><div class=\"line\">npm update hexo -g #升级  </div><div class=\"line\">hexo init #初始化</div></pre></td></tr></table></figure>\n<blockquote>\n<p>简写</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo n &quot;我的博客&quot; == hexo new &quot;我的博客&quot; #新建文章</div><div class=\"line\">hexo p == hexo publish</div><div class=\"line\">hexo g == hexo generate#生成</div><div class=\"line\">hexo s == hexo server #启动服务预览</div><div class=\"line\">hexo d == hexo deploy#部署</div></pre></td></tr></table></figure>\n<blockquote>\n<p>服务器</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo server #Hexo 会监视文件变动并自动更新，您无须重启服务器。</div><div class=\"line\">hexo server -s #静态模式</div><div class=\"line\">hexo server -p 5000 #更改端口</div><div class=\"line\">hexo server -i 192.168.1.1 #自定义 IP</div><div class=\"line\"></div><div class=\"line\">hexo clean #清除缓存 网页正常情况下可以忽略此条命令</div><div class=\"line\">hexo g #生成静态网页</div><div class=\"line\">hexo d #开始部署</div></pre></td></tr></table></figure>\n<blockquote>\n<p>监视文件变动</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo generate #使用 Hexo 生成静态文件快速而且简单</div><div class=\"line\">hexo generate --watch #监视文件变动</div></pre></td></tr></table></figure>\n<blockquote>\n<p>完成后部署</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">两个命令的作用是相同的</div><div class=\"line\">hexo generate --deploy</div><div class=\"line\">hexo deploy --generate</div></pre></td></tr></table></figure>\n<blockquote>\n<p>草稿</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo publish [layout] &lt;title&gt;</div></pre></td></tr></table></figure>\n<blockquote>\n<p>模版</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo new &quot;postName&quot; #新建文章</div><div class=\"line\">hexo new page &quot;pageName&quot; #新建页面</div><div class=\"line\">hexo generate #生成静态页面至public目录</div><div class=\"line\">hexo server #开启预览访问端口（默认端口4000，&apos;ctrl + c&apos;关闭server）</div><div class=\"line\">hexo deploy #将.deploy目录部署到GitHub</div><div class=\"line\"></div><div class=\"line\">hexo new [layout] &lt;title&gt;</div><div class=\"line\">hexo new photo &quot;My Gallery&quot;</div><div class=\"line\">hexo new &quot;Hello World&quot; --lang tw</div></pre></td></tr></table></figure>\n<blockquote>\n<p>推送到服务器上</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo n #写文章</div><div class=\"line\">hexo g #生成</div><div class=\"line\">hexo d #部署 #可与hexo g合并为 hexo d -g</div></pre></td></tr></table></figure>\n<blockquote>\n<p>报错</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div></pre></td><td class=\"code\"><pre><div class=\"line\">1.找不到git部署</div><div class=\"line\">ERROR Deployer not found: git</div><div class=\"line\">解决方法</div><div class=\"line\"></div><div class=\"line\">npm install hexo-deployer-git --save</div><div class=\"line\"></div><div class=\"line\">2.部署类型设置git</div><div class=\"line\">hexo 3.0 部署类型不再是github，_config.yml 中修改</div><div class=\"line\"></div><div class=\"line\"> Deployment</div><div class=\"line\"> Docs: http://hexo.io/docs/deployment.html</div><div class=\"line\"></div><div class=\"line\">deploy:</div><div class=\"line\">  type: git</div><div class=\"line\">  repository: git@***.github.com:***/***.github.io.git</div><div class=\"line\">  branch: master</div><div class=\"line\"></div><div class=\"line\">3. xcodebuild</div><div class=\"line\">xcode-select: error: tool &apos;xcodebuild&apos; requires Xcode, but active developer directory &apos;/Library/Developer/CommandLineTools&apos; is a command line tools instance</div><div class=\"line\"></div><div class=\"line\">npm install bcrypt</div><div class=\"line\"></div><div class=\"line\">4. RSS不显示</div><div class=\"line\">安装RSS插件</div><div class=\"line\"></div><div class=\"line\">npm install hexo-generator-feed --save</div></pre></td></tr></table></figure>\n<blockquote>\n<p>开启RSS功能编辑hexo/_config.yml，添加如下代码：</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">rss: /atom.xml #rss地址  默认即可</div></pre></td></tr></table></figure>\n<blockquote>\n<p>开启评论</p>\n</blockquote>\n<ul>\n<li>1.我使用多说代替自带的评论，在多说 网站注册 &gt; 后台管理 &gt; 添加新站点 &gt; 工具 === 复制通用代码 里面有 short_name</li>\n<li>2.在根目录 _config.yml 添加一行 disqus_shortname: jslite 是在多说注册时产生的</li>\n<li>3.复制到 themes\\landscape\\layout_partial\\article.ejs</li>\n<li>4.把下面这段代码</li>\n</ul>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</div><div class=\"line\">&lt;section id=&quot;comments&quot;&gt;</div><div class=\"line\">&lt;div id=&quot;disqus_thread&quot;&gt;</div><div class=\"line\">  &lt;noscript&gt;Please enable JavaScript to view the &lt;a href=&quot;//disqus.com/?ref_noscript&quot;&gt;comments powered by Disqus.&lt;/a&gt;&lt;/noscript&gt;</div><div class=\"line\">&lt;/div&gt;</div><div class=\"line\">&lt;/section&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>\n<p>改为</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% if (!index &amp;&amp; post.comments &amp;&amp; config.disqus_shortname)&#123; %&gt;</div><div class=\"line\">  &lt;section id=&quot;comments&quot;&gt;</div><div class=\"line\">    &lt;!-- 多说评论框 start --&gt;</div><div class=\"line\">    &lt;div class=&quot;ds-thread&quot; data-thread-key=&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot; data-title=&quot;&lt;%= post.title %&gt;&quot; data-url=&quot;&lt;%= page.permalink %&gt;&quot;&gt;&lt;/div&gt;</div><div class=\"line\">    &lt;!-- 多说评论框 end --&gt;</div><div class=\"line\">    &lt;!-- 多说公共JS代码 start (一个网页只需插入一次) --&gt;</div><div class=\"line\">    &lt;script type=&quot;text/javascript&quot;&gt;</div><div class=\"line\">    var duoshuoQuery = &#123;short_name:&apos;&lt;%= config.disqus_shortname %&gt;&apos;&#125;;</div><div class=\"line\">      (function() &#123;</div><div class=\"line\">        var ds = document.createElement(&apos;script&apos;);</div><div class=\"line\">        ds.type = &apos;text/javascript&apos;;ds.async = true;</div><div class=\"line\">        ds.src = (document.location.protocol == &apos;https:&apos; ? &apos;https:&apos; : &apos;http:&apos;) + &apos;//static.duoshuo.com/embed.js&apos;;</div><div class=\"line\">        ds.charset = &apos;UTF-8&apos;;</div><div class=\"line\">        (document.getElementsByTagName(&apos;head&apos;)[0] </div><div class=\"line\">         || document.getElementsByTagName(&apos;body&apos;)[0]).appendChild(ds);</div><div class=\"line\">      &#125;)();</div><div class=\"line\">      &lt;/script&gt;</div><div class=\"line\">    &lt;!-- 多说公共JS代码 end --&gt;</div><div class=\"line\">  &lt;/section&gt;</div><div class=\"line\">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>"},{"title":"精品文献合集","date":"2017-09-28T09:38:48.000Z","_content":"> 掘金翻译计划 Android\n\n- [[译] Activity 的正确打开方式 (Liz 翻译)](https://juejin.im/entry/57b9bfc3c4c9710061481310?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 如何创建高度模块化的 Android 应用 (DeadLion 翻译)](https://gold.xitu.io/entry/57b12cf4165abd00542a3ee1?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 使用强大的 Mockito 测试框架来测试你的代码 (edvardhua 翻译)](https://gold.xitu.io/entry/578f11aec4c971005e0caf82?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] Android 中美腻的下划线 (jamweak 翻译)](http://gold.xitu.io/entry/578705faa34131005b46e9c2?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [所有 Android 译文>>](https://github.com/xitu/gold-miner/blob/master/android.md)\n\n> 掘金翻译计划 iOS\n\n- [[译] 实现二叉树以及二叉树遍历数据结构 (cbangchen 翻译)](http://gold.xitu.io/entry/57cd6b028ac24700645a789c?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 关于 Swift，我不喜欢的几点 (cbangchen 翻译)](http://gold.xitu.io/entry/57cd6863128fe100697f1fed?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] iOS APP 中的不可变模型以及一致性数据 (Kulbear 翻译)](http://gold.xitu.io/entry/57caeb8a79bc440063fb7ef0?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 「最简单」的 Core Data 上手指南 (Zheaoli 翻译)](http://gold.xitu.io/entry/57c8f62f67f3560057aea07f?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [所有 iOS 译文>>](https://github.com/xitu/gold-miner/blob/master/ios.md)\n","source":"_posts/精品文献合集.md","raw":"---\ntitle: 精品文献合集\ndate: 2017-09-28 17:38:48\ntags: [iOS,Android,Python]\n---\n> 掘金翻译计划 Android\n\n- [[译] Activity 的正确打开方式 (Liz 翻译)](https://juejin.im/entry/57b9bfc3c4c9710061481310?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 如何创建高度模块化的 Android 应用 (DeadLion 翻译)](https://gold.xitu.io/entry/57b12cf4165abd00542a3ee1?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 使用强大的 Mockito 测试框架来测试你的代码 (edvardhua 翻译)](https://gold.xitu.io/entry/578f11aec4c971005e0caf82?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] Android 中美腻的下划线 (jamweak 翻译)](http://gold.xitu.io/entry/578705faa34131005b46e9c2?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [所有 Android 译文>>](https://github.com/xitu/gold-miner/blob/master/android.md)\n\n> 掘金翻译计划 iOS\n\n- [[译] 实现二叉树以及二叉树遍历数据结构 (cbangchen 翻译)](http://gold.xitu.io/entry/57cd6b028ac24700645a789c?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 关于 Swift，我不喜欢的几点 (cbangchen 翻译)](http://gold.xitu.io/entry/57cd6863128fe100697f1fed?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] iOS APP 中的不可变模型以及一致性数据 (Kulbear 翻译)](http://gold.xitu.io/entry/57caeb8a79bc440063fb7ef0?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [[译] 「最简单」的 Core Data 上手指南 (Zheaoli 翻译)](http://gold.xitu.io/entry/57c8f62f67f3560057aea07f?utm_source=gold-miner&utm_medium=readme&utm_campaign=github)\n- [所有 iOS 译文>>](https://github.com/xitu/gold-miner/blob/master/ios.md)\n","slug":"精品文献合集","published":1,"updated":"2017-09-29T05:16:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj85j7k7400036rutw2f2qm6y","content":"<blockquote>\n<p>掘金翻译计划 Android</p>\n</blockquote>\n<ul>\n<li><a href=\"https://juejin.im/entry/57b9bfc3c4c9710061481310?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] Activity 的正确打开方式 (Liz 翻译)</a></li>\n<li><a href=\"https://gold.xitu.io/entry/57b12cf4165abd00542a3ee1?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 如何创建高度模块化的 Android 应用 (DeadLion 翻译)</a></li>\n<li><a href=\"https://gold.xitu.io/entry/578f11aec4c971005e0caf82?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 使用强大的 Mockito 测试框架来测试你的代码 (edvardhua 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/578705faa34131005b46e9c2?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] Android 中美腻的下划线 (jamweak 翻译)</a></li>\n<li><a href=\"https://github.com/xitu/gold-miner/blob/master/android.md\" target=\"_blank\" rel=\"external\">所有 Android 译文&gt;&gt;</a></li>\n</ul>\n<blockquote>\n<p>掘金翻译计划 iOS</p>\n</blockquote>\n<ul>\n<li><a href=\"http://gold.xitu.io/entry/57cd6b028ac24700645a789c?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 实现二叉树以及二叉树遍历数据结构 (cbangchen 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/57cd6863128fe100697f1fed?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 关于 Swift，我不喜欢的几点 (cbangchen 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/57caeb8a79bc440063fb7ef0?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] iOS APP 中的不可变模型以及一致性数据 (Kulbear 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/57c8f62f67f3560057aea07f?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 「最简单」的 Core Data 上手指南 (Zheaoli 翻译)</a></li>\n<li><a href=\"https://github.com/xitu/gold-miner/blob/master/ios.md\" target=\"_blank\" rel=\"external\">所有 iOS 译文&gt;&gt;</a></li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>掘金翻译计划 Android</p>\n</blockquote>\n<ul>\n<li><a href=\"https://juejin.im/entry/57b9bfc3c4c9710061481310?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] Activity 的正确打开方式 (Liz 翻译)</a></li>\n<li><a href=\"https://gold.xitu.io/entry/57b12cf4165abd00542a3ee1?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 如何创建高度模块化的 Android 应用 (DeadLion 翻译)</a></li>\n<li><a href=\"https://gold.xitu.io/entry/578f11aec4c971005e0caf82?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 使用强大的 Mockito 测试框架来测试你的代码 (edvardhua 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/578705faa34131005b46e9c2?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] Android 中美腻的下划线 (jamweak 翻译)</a></li>\n<li><a href=\"https://github.com/xitu/gold-miner/blob/master/android.md\" target=\"_blank\" rel=\"external\">所有 Android 译文&gt;&gt;</a></li>\n</ul>\n<blockquote>\n<p>掘金翻译计划 iOS</p>\n</blockquote>\n<ul>\n<li><a href=\"http://gold.xitu.io/entry/57cd6b028ac24700645a789c?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 实现二叉树以及二叉树遍历数据结构 (cbangchen 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/57cd6863128fe100697f1fed?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 关于 Swift，我不喜欢的几点 (cbangchen 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/57caeb8a79bc440063fb7ef0?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] iOS APP 中的不可变模型以及一致性数据 (Kulbear 翻译)</a></li>\n<li><a href=\"http://gold.xitu.io/entry/57c8f62f67f3560057aea07f?utm_source=gold-miner&amp;utm_medium=readme&amp;utm_campaign=github\" target=\"_blank\" rel=\"external\">[译] 「最简单」的 Core Data 上手指南 (Zheaoli 翻译)</a></li>\n<li><a href=\"https://github.com/xitu/gold-miner/blob/master/ios.md\" target=\"_blank\" rel=\"external\">所有 iOS 译文&gt;&gt;</a></li>\n</ul>\n"},{"title":"注册、登录和token的安全之道","date":"2017-09-28T09:08:20.000Z","_content":"> 注册、登录和 token 的安全之道\n\n最近想要做一个小项目，由于前后都是一个人，在登录和注册的接口上就被卡住了，因此想登录、注册、口令之间的关系，使用 PHP 实现登录注册模块，和访问口令。<!--more-->\n\n> 出于安全的考虑，首先定下三项原则：\n\n> 在传输中，不允许明文传输用户隐私数据；\n> 在本地，不允许明文保存用户隐私数据；\n> 在服务器，不允许明文保存用户隐私数据；\n在网络来说，我们知道不论 POST 请求和 GET 请求都会被抓包，在没有使用 HTTPS 的情况下，抓包我们是防不住的，如果明文传输用户隐私，那后果就不说了。\n\n本地和服务器也是如此，比如 iOS 设备，如果存储在本地，越狱之后通过设备 Finder 之类的功能，也能轻易找到我们存储在本地的用户隐私。\n\n使用 Keychain 在本地也有保存，但不在沙盒，暂且忽略。\n上面讲到，用户隐私数据总归可以被拿到的，如何保证被拿到之后不会被用来做坏事？\n\n> 加密\n\n将用户的隐私数据加密，那么就算被拿到，也无法被拿来使用。在这里呢，我们先不谈加密，而是先纠正一个误区，有些朋友会认为 Base64 可以加密，甚至有 Base64 加密的说法。\n\nBase64 主要不是加密，它主要的用途是把二进制数据序列转化为 ASCII 字符序列，用以数据传输。二进制数据是什么呢？计算机上存储的所有数据，都是二进制数据。\n\nBase64 最常见的应用场景是 URL，因为 URL 只能是特定的一些 ASCII 字符。这时需要用到 Base64 编码，当然这也只是对二进制数据本身的编码，编码后的数据里面可能包含 +/= 等符号，真正放到 URL 里面时候，还需要URL-Encoding，变成 %XX 模式，以消除这些符号的歧义。其次就是将图片转为 Base64 的字符串。\n\n因此，Base64 只是一种编码方式，而不是加密方式。\n\n好了，现在回到我们的主题，先说登录和注册之间的关系，这 3 个模块需要做什么事情呢？\n\n> * 注册：将用户输入的隐私数据，发送给服务器，服务器进行保存；\n> * 登录：将用户输入的隐私数据，发送给服务器，服务器进行比对，确认是否有权限登录；\n> * token：确保用户在登录中；\n\n我们把用户输入的隐私数据再具象一些，比如账号和密码，结合我们上面提到的安全原则，那么分解开来，实际我们要做以下几件事：\n\n服务器-注册接口：接收客户端传来的账号和密码，将其保存在数据库中；\n服务器-登录接口：接收客户端传来的账号和密码，与数据库比对，完全命中则登录成功，否则登录失败；\n登录成功后，生成或更新 token 和过期时间，保存在数据库， token 返回给客户端；\n服务器定期清除 token；\n客户端-注册模块：向服务器注册接口发送账号和密码；\n客户端-登录模块：向服务器登录接口发送账号和密码；\n登录成功后，保存 token 到本地；\n退出登录后，清除 token；\n发送的账号和密码需要加密；\n数据库中需要保存的是加密后的账号和密码；\n请求敏感数据时，将客户端传来的 token 和服务器验证，不通过则提示客户端登录；\n上面逻辑理清楚后，相信对于大家来说并不难实现，以下是服务器注册接口做的事情：\n\n```obj\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*检查用户名是否存在*/\n$is_exist = $db->check_user_exist($account);\n\nif ($is_exist) {\n    echo return_value(10001, false);\n}\nelse {\n    /*检查用户名是否添加成功*/\n    $result = $db->add_user($account, $password);\n    if ($result) {\n        echo return_value(0, true);\n    }\n    else {\n        echo return_value(20001, false);\n    }\n}\n```\n\n现在是服务器登录接口做的事情：\n\n```obj\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*是否命中用户名和密码*/\n$should_login = $db->should_login($account, $password);\n\nif ($should_login) {\n    /*更新 token*/\n    $token = $db->insert_token($account);\n    if ($token == '') {\n        echo response(40001, false);\n    }\n    else {\n        $data = ['token' => $token];\n        echo response(0, $data);\n    }\n}\nelse {\n    echo response(30001, false);\n}\n\n```\n剩下的无非是加密算法的不同，我最常用的是 md5，那么我们经过 md5 加密以后，其实还是不太安全，为什么呢？因为 md5 本身就不安全。虽然 md5 是不可逆的 hash 算法，反向算出来虽然困难，但是如果反向查询，密码设置的简单，也很容易被攻破。\n\n比如我们使用 md5 加密一个密码 123456，对应的 md5 是 e10adc3949ba59abbe56e057f20f883e，找到一个 md5 解密的网站，比如 cmd5.com/，很容易就被破解了密码…\n\n> 加盐\n\n工作一段时间的同学对这个名词应该不会陌生，这种方式算是给用户的隐私数据加上密了，其实就是一段隐私数据加一段乱码再进行 md5，用代码表示大致是这样：\n\n// 伪代码\n\n```\nsalt = '#^&%**(^&(&*)_)_(*&^&#$%GVHKBJ(*^&*%^%&^&'\npassword = '123456'\npost_body = salt + password\nprint post_body.md5()\n// ffb34d898f6573a1cf14fdc34d3343c0\n```\n现在，密码看起来挺靠谱的了，但是，我们知道加盐这种方式是比较早期的处理方式了，既然现在没有在大范围使用了，就说明单纯加盐还是存在缺陷的。\n\n> 有泄露的可能\n\n现在我们在客户端对密码做了 md5 加盐，服务器保存的也是加密后的内容，但是，盐是写在了客户端的源代码中，一旦对源代码进行反编译，找到 salt 这个字符串，那么加盐的做法也就形同虚设了。\n\n反编译源代码的代价也很高，一般对于安全性能要求不高的话，也够用了，但是，对于一些涉及资金之类的 App 来说，仅仅加盐还是不够的。\n\n比如离职的技术同学不是很开心，又或者有人想花钱买这串字符等等，盐一旦被泄露，就是一场灾难，这也是盐最大的缺陷。\n\n> 依赖性太强\n\n盐一旦被设定，那么再做修改的话就非常困难了，因为服务器存储的全部是加盐后的数据，如果换盐，那么这些数据全部都需要改动。但是可怕的不在于此，如果将服务器的数据改动后，旧版本的用户再访问又都不可以了，因为他们用的是之前的盐。\n\n> HMAC\n\n目前最常见的方式，应该就是 HMAC 了，HMAC 算法主要应用于身份验证，与加盐的不同点在于，盐被移到了服务器，服务器返回什么，就用什么作为盐。\n\n这么做有什么好处呢？ 如果我们在登录的过程中，黑客截获了我们发送的数据，他也只能得到 HMAC 加密过后的结果，由于不知道密钥，根本不可能获取到用户密码，从而保证了安全性。\n\n但是还有一个问题，前面我们讲到，盐被获取以后很危险，如果从服务器获取盐，也会被抓包，那还不如写在源代码里面呢，至少被反编译还困难点，那如果解决这个隐患呢？\n\n那就是，在用户注册时就生成和获取这个秘钥，以代码示例：\n\n现在我们发送一个请求：\n\nGET http://localhost:8888/capsule/register.php?account=joy&password=789\n服务器收到请求后，做了下面的事情：\n\n```\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];  //123456\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*制作一个随机的盐*/\n$salt = salt();\n\n/*检查用户名是否存在*/\n$is_exist = $db->check_user_exist($account);\n\nif ($is_exist) {\n    echo response(10001, false);\n}\nelse {\n\n    /*将密码进行 hmac 加密*/\n    $password = str_hmac($password,  $salt);\n\n    /*检查用户名是否添加成功*/\n    $result = $db->add_user($account, $password);\n\n    if ($result) {\n        $data = ['salt'=>$salt];\n        echo response(0, $data);\n        //echo response(0, true);\n    }\n    else {\n        echo response(20001, false);\n    }\n}\n\n```\n服务器现在保存的是：\n\naccount: joy\npassword: 05575c24576\n客户端拿到的结果是：\n\n{\n  \"rc\": 0,\n  \"data\": {\n    \"salt\": \"5633905fdc65b6c57be8698b1f0e884948c05d7f\"\n  },\n  \"errorInfo\": \"\"\n}\n那么客户端接下来应该做什么呢？把 salt 做本地的持久化，登录时将用户输入的密码做一次同样的 hmac，那么就能通过服务器的 password: 05575c24576 校验了，发起登录请求：\n\nGET http://localhost:8888/capsule/login.php?account=joy&password=789 \n// fail\nGET http://localhost:8888/capsule/login.php?account=joy&password=05575c24576 \n// success\n现在我们解决了依赖性太强的问题，盐我们可以随意的更改，甚至可以是随机的，每个用户都不一样。这样单个用户的安全性虽然没有加强，但是整个平台的安全性缺大大提升了，很少有人会针对一个用户搞事情。但是细心的同学应该可以想到，现在的盐，也就是秘钥是保存在本地的，如果用户的秘钥丢失，比如换手机了，那么岂不是有正确的密码，也无法登陆了吗？\n\n针对这个问题，核心就是用户没有了秘钥，那么在用户登陆的时候，逻辑就需要变一下。\n\n// 伪代码\n\n```\nfunc login(account, password) {\n    //如果有盐\n    if let salt = getSalt() {\n        //将密码进行 hmac，请求登陆接口\n        network.login(account, password.hmac(salt))\n    }\n    else {\n        //请求 getSalt 接口，请求参数为账户+应用标识\n        network.getSalt(account + bundleId, { salt in\n            //将盐保存在本地，再次调用自身。\n            savaSalt(salt)\n            login(account, password)\n        })\n    }\n}\n\n```\n那么可想而知，我们的注册接口现在也需要新加一个 bundleId 的请求参数，然后用 account + bundleId 作为 key，来保存 salt：\n\n```\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];  //123456\n$bundle_id = $_GET['bundleId'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*制作一个随机的盐*/\n$salt = salt();\n\n/*检查用户名是否存在*/\n$is_exist = $db->check_user_exist($account);\n\nif ($is_exist) {\n    echo response(10001, false);\n}\nelse {\n    /*将密码进行 hmac 加密*/\n    $password = str_hmac($password,  $salt);\n\n    /*检查用户名是否添加成功*/\n    $result = $db->add_user($account, $password);\n\n    if ($result) {\n\n        /*检查秘钥是否保存成功*/\n        $save_salt = $db->save_salt($salt, $account, $bundle_id);\n\n        if ($save_salt) {\n            $data = ['salt'=>$salt];\n            echo response(0, $data);\n        }\n        else {\n            echo response(20001, false);\n        }\n    }\n    else {\n        echo response(20001, false);\n    }\n}\n\n```\n\n同时我们需要创建一个获取 salt 的接口：\n\n```\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$bundle_id = $_GET['bundleId'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*获取秘钥*/\n$salt = $db->get_salt($account, $bundle_id);\n\nif ($salt == '') {\n    echo response(40001, false);\n}\nelse {\n    $data = ['salt'=>$salt];\n    echo response(0, $data);\n}\n\n```\n写到这里，就可以给大家介绍一个比较好玩的东西了。\n\n> 设备锁\n\n一些 App 具有设备锁的功能，比如 QQ，这个功能是将账号与设备进行绑定，如果其他人知道了用户的账号和密码，但是设备不符，同样无法登录，怎样实现呢？\n\n就是用户开启设备锁之后，如果设备中没有 salt，那么就不再请求 getSalt 接口，而是转为其他验证方式，通过之后，才可以请求 getSalt。\n\n> 提升单个用户的安全性\n\n现在这个 App 相对来说比较安全了，上面说到，因为每个用户的 salt 都不一样，破解单个用户的利益不大，所以，对于平台来说安全性已经比较高了，但凡是都有例外，如果这个破坏者就是铁了心要搞事情，就针对一个用户，现在这个方案，还有哪些问题存在呢？\n\n注册时返回的 salt 被抓包时有可能会泄露；\n更换设备后，获取的 salt 被抓包时有可能会泄露；\n保存在本地的 salt ，有可能通过文件路径获取到；\n抓包的人就算不知道密码，通过 hmac 加密后的字符，也可以进行登录；\n\n怎么处理呢？首先我们需要清楚的是，之所以会被破解，是拿到了我们加密时的因子，或者叫种子，这个种子服务器和客户端都必须要有，如果没有的话，两者就无法进行通信了，但是我们也不能在客户端将种子写死，在服务器给客户端种子时，总会有可能被获取。\n\n我们要设计一种思路，需要有一个种子，服务器和客户端之间无需通讯，但是都可以被理解的种子。\n\n同时我们需要这个种子是动态的，每次加密的结果都不一样，那么就算抓到了加密后的密码，这个密码也随之失效了。\n\n所以，我们需要一个无需服务器和客户端通讯的，动态的种子，时间。\n\n> HMAC+时间\n\n这个动态的种子是如何使用的呢？\n\n客户端发送注册请求，服务器返回 salt，保存 hmac 后的密码；\n客户端保存 salt；\n客户端发送登录请求，参数为 hmac 后的密码，加上当前的时间；\n服务器收到登录请求，将数据库中的密码，加上当前的时间，进行比对；\n客户端代码：\n\n```\n// 秘钥\nconst salt = ''\n// 当前时间，精确到分钟\nconst currentTime = '201709171204'\n// 用户输入的密码\nlet password = '123456'\n// (hmac+currentTime).md5\npassword = (password.hmac(salt) + currentTime).md5()\nnetwork('login', {method: 'GET', params: {password:password}})\n```\n服务器代码：\n\n```\nfunction should_login($account, $password)\n{\n    $account = mysqli_real_escape_string($this->connection ,$account);\n    $password = mysqli_real_escape_string($this->connection, $password);\n    $user = $this->get_user($account);\n    if ($user == null) {\n        return false;\n    }\n    $password_local = $user['password'];\n    if ($password_local == '') {\n        return false;\n    }\n    $password_local = md5($password_local.current_time());\n    if ($password_local == $password) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\n```\n\n但是现在还有一点问题，那就是对时间的容错上，如果客户端发送的时候是 201709171204，服务器响应时却已经到了 201709171205 了，那么这样势必是不能通过的，这种情况，只需要服务器把当前的时间减去一分钟，再校验一次，符合其中之一就可以。\n\n聪明的你应该可以想到，这也就是验证码 5 分钟内有效期的实现。\n\n现在这个 App，就算注册时拿到了 salt，也很难在 1 分钟内反推出密码，同时，抓包的密码一分钟后也就失效了，对于单个用户的安全性，也有了进一步的提升。","source":"_posts/注册、登录和token的安全之道.md","raw":"---\ntitle: 注册、登录和token的安全之道\ndate: 2017-09-28 17:08:20\ntags: [PHP,Interface]\ncategories: PHP\n---\n> 注册、登录和 token 的安全之道\n\n最近想要做一个小项目，由于前后都是一个人，在登录和注册的接口上就被卡住了，因此想登录、注册、口令之间的关系，使用 PHP 实现登录注册模块，和访问口令。<!--more-->\n\n> 出于安全的考虑，首先定下三项原则：\n\n> 在传输中，不允许明文传输用户隐私数据；\n> 在本地，不允许明文保存用户隐私数据；\n> 在服务器，不允许明文保存用户隐私数据；\n在网络来说，我们知道不论 POST 请求和 GET 请求都会被抓包，在没有使用 HTTPS 的情况下，抓包我们是防不住的，如果明文传输用户隐私，那后果就不说了。\n\n本地和服务器也是如此，比如 iOS 设备，如果存储在本地，越狱之后通过设备 Finder 之类的功能，也能轻易找到我们存储在本地的用户隐私。\n\n使用 Keychain 在本地也有保存，但不在沙盒，暂且忽略。\n上面讲到，用户隐私数据总归可以被拿到的，如何保证被拿到之后不会被用来做坏事？\n\n> 加密\n\n将用户的隐私数据加密，那么就算被拿到，也无法被拿来使用。在这里呢，我们先不谈加密，而是先纠正一个误区，有些朋友会认为 Base64 可以加密，甚至有 Base64 加密的说法。\n\nBase64 主要不是加密，它主要的用途是把二进制数据序列转化为 ASCII 字符序列，用以数据传输。二进制数据是什么呢？计算机上存储的所有数据，都是二进制数据。\n\nBase64 最常见的应用场景是 URL，因为 URL 只能是特定的一些 ASCII 字符。这时需要用到 Base64 编码，当然这也只是对二进制数据本身的编码，编码后的数据里面可能包含 +/= 等符号，真正放到 URL 里面时候，还需要URL-Encoding，变成 %XX 模式，以消除这些符号的歧义。其次就是将图片转为 Base64 的字符串。\n\n因此，Base64 只是一种编码方式，而不是加密方式。\n\n好了，现在回到我们的主题，先说登录和注册之间的关系，这 3 个模块需要做什么事情呢？\n\n> * 注册：将用户输入的隐私数据，发送给服务器，服务器进行保存；\n> * 登录：将用户输入的隐私数据，发送给服务器，服务器进行比对，确认是否有权限登录；\n> * token：确保用户在登录中；\n\n我们把用户输入的隐私数据再具象一些，比如账号和密码，结合我们上面提到的安全原则，那么分解开来，实际我们要做以下几件事：\n\n服务器-注册接口：接收客户端传来的账号和密码，将其保存在数据库中；\n服务器-登录接口：接收客户端传来的账号和密码，与数据库比对，完全命中则登录成功，否则登录失败；\n登录成功后，生成或更新 token 和过期时间，保存在数据库， token 返回给客户端；\n服务器定期清除 token；\n客户端-注册模块：向服务器注册接口发送账号和密码；\n客户端-登录模块：向服务器登录接口发送账号和密码；\n登录成功后，保存 token 到本地；\n退出登录后，清除 token；\n发送的账号和密码需要加密；\n数据库中需要保存的是加密后的账号和密码；\n请求敏感数据时，将客户端传来的 token 和服务器验证，不通过则提示客户端登录；\n上面逻辑理清楚后，相信对于大家来说并不难实现，以下是服务器注册接口做的事情：\n\n```obj\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*检查用户名是否存在*/\n$is_exist = $db->check_user_exist($account);\n\nif ($is_exist) {\n    echo return_value(10001, false);\n}\nelse {\n    /*检查用户名是否添加成功*/\n    $result = $db->add_user($account, $password);\n    if ($result) {\n        echo return_value(0, true);\n    }\n    else {\n        echo return_value(20001, false);\n    }\n}\n```\n\n现在是服务器登录接口做的事情：\n\n```obj\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*是否命中用户名和密码*/\n$should_login = $db->should_login($account, $password);\n\nif ($should_login) {\n    /*更新 token*/\n    $token = $db->insert_token($account);\n    if ($token == '') {\n        echo response(40001, false);\n    }\n    else {\n        $data = ['token' => $token];\n        echo response(0, $data);\n    }\n}\nelse {\n    echo response(30001, false);\n}\n\n```\n剩下的无非是加密算法的不同，我最常用的是 md5，那么我们经过 md5 加密以后，其实还是不太安全，为什么呢？因为 md5 本身就不安全。虽然 md5 是不可逆的 hash 算法，反向算出来虽然困难，但是如果反向查询，密码设置的简单，也很容易被攻破。\n\n比如我们使用 md5 加密一个密码 123456，对应的 md5 是 e10adc3949ba59abbe56e057f20f883e，找到一个 md5 解密的网站，比如 cmd5.com/，很容易就被破解了密码…\n\n> 加盐\n\n工作一段时间的同学对这个名词应该不会陌生，这种方式算是给用户的隐私数据加上密了，其实就是一段隐私数据加一段乱码再进行 md5，用代码表示大致是这样：\n\n// 伪代码\n\n```\nsalt = '#^&%**(^&(&*)_)_(*&^&#$%GVHKBJ(*^&*%^%&^&'\npassword = '123456'\npost_body = salt + password\nprint post_body.md5()\n// ffb34d898f6573a1cf14fdc34d3343c0\n```\n现在，密码看起来挺靠谱的了，但是，我们知道加盐这种方式是比较早期的处理方式了，既然现在没有在大范围使用了，就说明单纯加盐还是存在缺陷的。\n\n> 有泄露的可能\n\n现在我们在客户端对密码做了 md5 加盐，服务器保存的也是加密后的内容，但是，盐是写在了客户端的源代码中，一旦对源代码进行反编译，找到 salt 这个字符串，那么加盐的做法也就形同虚设了。\n\n反编译源代码的代价也很高，一般对于安全性能要求不高的话，也够用了，但是，对于一些涉及资金之类的 App 来说，仅仅加盐还是不够的。\n\n比如离职的技术同学不是很开心，又或者有人想花钱买这串字符等等，盐一旦被泄露，就是一场灾难，这也是盐最大的缺陷。\n\n> 依赖性太强\n\n盐一旦被设定，那么再做修改的话就非常困难了，因为服务器存储的全部是加盐后的数据，如果换盐，那么这些数据全部都需要改动。但是可怕的不在于此，如果将服务器的数据改动后，旧版本的用户再访问又都不可以了，因为他们用的是之前的盐。\n\n> HMAC\n\n目前最常见的方式，应该就是 HMAC 了，HMAC 算法主要应用于身份验证，与加盐的不同点在于，盐被移到了服务器，服务器返回什么，就用什么作为盐。\n\n这么做有什么好处呢？ 如果我们在登录的过程中，黑客截获了我们发送的数据，他也只能得到 HMAC 加密过后的结果，由于不知道密钥，根本不可能获取到用户密码，从而保证了安全性。\n\n但是还有一个问题，前面我们讲到，盐被获取以后很危险，如果从服务器获取盐，也会被抓包，那还不如写在源代码里面呢，至少被反编译还困难点，那如果解决这个隐患呢？\n\n那就是，在用户注册时就生成和获取这个秘钥，以代码示例：\n\n现在我们发送一个请求：\n\nGET http://localhost:8888/capsule/register.php?account=joy&password=789\n服务器收到请求后，做了下面的事情：\n\n```\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];  //123456\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*制作一个随机的盐*/\n$salt = salt();\n\n/*检查用户名是否存在*/\n$is_exist = $db->check_user_exist($account);\n\nif ($is_exist) {\n    echo response(10001, false);\n}\nelse {\n\n    /*将密码进行 hmac 加密*/\n    $password = str_hmac($password,  $salt);\n\n    /*检查用户名是否添加成功*/\n    $result = $db->add_user($account, $password);\n\n    if ($result) {\n        $data = ['salt'=>$salt];\n        echo response(0, $data);\n        //echo response(0, true);\n    }\n    else {\n        echo response(20001, false);\n    }\n}\n\n```\n服务器现在保存的是：\n\naccount: joy\npassword: 05575c24576\n客户端拿到的结果是：\n\n{\n  \"rc\": 0,\n  \"data\": {\n    \"salt\": \"5633905fdc65b6c57be8698b1f0e884948c05d7f\"\n  },\n  \"errorInfo\": \"\"\n}\n那么客户端接下来应该做什么呢？把 salt 做本地的持久化，登录时将用户输入的密码做一次同样的 hmac，那么就能通过服务器的 password: 05575c24576 校验了，发起登录请求：\n\nGET http://localhost:8888/capsule/login.php?account=joy&password=789 \n// fail\nGET http://localhost:8888/capsule/login.php?account=joy&password=05575c24576 \n// success\n现在我们解决了依赖性太强的问题，盐我们可以随意的更改，甚至可以是随机的，每个用户都不一样。这样单个用户的安全性虽然没有加强，但是整个平台的安全性缺大大提升了，很少有人会针对一个用户搞事情。但是细心的同学应该可以想到，现在的盐，也就是秘钥是保存在本地的，如果用户的秘钥丢失，比如换手机了，那么岂不是有正确的密码，也无法登陆了吗？\n\n针对这个问题，核心就是用户没有了秘钥，那么在用户登陆的时候，逻辑就需要变一下。\n\n// 伪代码\n\n```\nfunc login(account, password) {\n    //如果有盐\n    if let salt = getSalt() {\n        //将密码进行 hmac，请求登陆接口\n        network.login(account, password.hmac(salt))\n    }\n    else {\n        //请求 getSalt 接口，请求参数为账户+应用标识\n        network.getSalt(account + bundleId, { salt in\n            //将盐保存在本地，再次调用自身。\n            savaSalt(salt)\n            login(account, password)\n        })\n    }\n}\n\n```\n那么可想而知，我们的注册接口现在也需要新加一个 bundleId 的请求参数，然后用 account + bundleId 作为 key，来保存 salt：\n\n```\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$password = $_GET['password'];  //123456\n$bundle_id = $_GET['bundleId'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*制作一个随机的盐*/\n$salt = salt();\n\n/*检查用户名是否存在*/\n$is_exist = $db->check_user_exist($account);\n\nif ($is_exist) {\n    echo response(10001, false);\n}\nelse {\n    /*将密码进行 hmac 加密*/\n    $password = str_hmac($password,  $salt);\n\n    /*检查用户名是否添加成功*/\n    $result = $db->add_user($account, $password);\n\n    if ($result) {\n\n        /*检查秘钥是否保存成功*/\n        $save_salt = $db->save_salt($salt, $account, $bundle_id);\n\n        if ($save_salt) {\n            $data = ['salt'=>$salt];\n            echo response(0, $data);\n        }\n        else {\n            echo response(20001, false);\n        }\n    }\n    else {\n        echo response(20001, false);\n    }\n}\n\n```\n\n同时我们需要创建一个获取 salt 的接口：\n\n```\n/*获取 get 请求传递的参数*/\n$account = $_GET['account'];\n$bundle_id = $_GET['bundleId'];\n\n/*创建数据连接*/\n$db = new DataBase();\n\n/*获取秘钥*/\n$salt = $db->get_salt($account, $bundle_id);\n\nif ($salt == '') {\n    echo response(40001, false);\n}\nelse {\n    $data = ['salt'=>$salt];\n    echo response(0, $data);\n}\n\n```\n写到这里，就可以给大家介绍一个比较好玩的东西了。\n\n> 设备锁\n\n一些 App 具有设备锁的功能，比如 QQ，这个功能是将账号与设备进行绑定，如果其他人知道了用户的账号和密码，但是设备不符，同样无法登录，怎样实现呢？\n\n就是用户开启设备锁之后，如果设备中没有 salt，那么就不再请求 getSalt 接口，而是转为其他验证方式，通过之后，才可以请求 getSalt。\n\n> 提升单个用户的安全性\n\n现在这个 App 相对来说比较安全了，上面说到，因为每个用户的 salt 都不一样，破解单个用户的利益不大，所以，对于平台来说安全性已经比较高了，但凡是都有例外，如果这个破坏者就是铁了心要搞事情，就针对一个用户，现在这个方案，还有哪些问题存在呢？\n\n注册时返回的 salt 被抓包时有可能会泄露；\n更换设备后，获取的 salt 被抓包时有可能会泄露；\n保存在本地的 salt ，有可能通过文件路径获取到；\n抓包的人就算不知道密码，通过 hmac 加密后的字符，也可以进行登录；\n\n怎么处理呢？首先我们需要清楚的是，之所以会被破解，是拿到了我们加密时的因子，或者叫种子，这个种子服务器和客户端都必须要有，如果没有的话，两者就无法进行通信了，但是我们也不能在客户端将种子写死，在服务器给客户端种子时，总会有可能被获取。\n\n我们要设计一种思路，需要有一个种子，服务器和客户端之间无需通讯，但是都可以被理解的种子。\n\n同时我们需要这个种子是动态的，每次加密的结果都不一样，那么就算抓到了加密后的密码，这个密码也随之失效了。\n\n所以，我们需要一个无需服务器和客户端通讯的，动态的种子，时间。\n\n> HMAC+时间\n\n这个动态的种子是如何使用的呢？\n\n客户端发送注册请求，服务器返回 salt，保存 hmac 后的密码；\n客户端保存 salt；\n客户端发送登录请求，参数为 hmac 后的密码，加上当前的时间；\n服务器收到登录请求，将数据库中的密码，加上当前的时间，进行比对；\n客户端代码：\n\n```\n// 秘钥\nconst salt = ''\n// 当前时间，精确到分钟\nconst currentTime = '201709171204'\n// 用户输入的密码\nlet password = '123456'\n// (hmac+currentTime).md5\npassword = (password.hmac(salt) + currentTime).md5()\nnetwork('login', {method: 'GET', params: {password:password}})\n```\n服务器代码：\n\n```\nfunction should_login($account, $password)\n{\n    $account = mysqli_real_escape_string($this->connection ,$account);\n    $password = mysqli_real_escape_string($this->connection, $password);\n    $user = $this->get_user($account);\n    if ($user == null) {\n        return false;\n    }\n    $password_local = $user['password'];\n    if ($password_local == '') {\n        return false;\n    }\n    $password_local = md5($password_local.current_time());\n    if ($password_local == $password) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\n\n```\n\n但是现在还有一点问题，那就是对时间的容错上，如果客户端发送的时候是 201709171204，服务器响应时却已经到了 201709171205 了，那么这样势必是不能通过的，这种情况，只需要服务器把当前的时间减去一分钟，再校验一次，符合其中之一就可以。\n\n聪明的你应该可以想到，这也就是验证码 5 分钟内有效期的实现。\n\n现在这个 App，就算注册时拿到了 salt，也很难在 1 分钟内反推出密码，同时，抓包的密码一分钟后也就失效了，对于单个用户的安全性，也有了进一步的提升。","slug":"注册、登录和token的安全之道","published":1,"updated":"2017-09-29T05:16:26.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cj85j7k7b00066rutrm020d3h","content":"<blockquote>\n<p>注册、登录和 token 的安全之道</p>\n</blockquote>\n<p>最近想要做一个小项目，由于前后都是一个人，在登录和注册的接口上就被卡住了，因此想登录、注册、口令之间的关系，使用 PHP 实现登录注册模块，和访问口令。<a id=\"more\"></a></p>\n<blockquote>\n<p>出于安全的考虑，首先定下三项原则：</p>\n<p>在传输中，不允许明文传输用户隐私数据；<br>在本地，不允许明文保存用户隐私数据；<br>在服务器，不允许明文保存用户隐私数据；<br>在网络来说，我们知道不论 POST 请求和 GET 请求都会被抓包，在没有使用 HTTPS 的情况下，抓包我们是防不住的，如果明文传输用户隐私，那后果就不说了。</p>\n</blockquote>\n<p>本地和服务器也是如此，比如 iOS 设备，如果存储在本地，越狱之后通过设备 Finder 之类的功能，也能轻易找到我们存储在本地的用户隐私。</p>\n<p>使用 Keychain 在本地也有保存，但不在沙盒，暂且忽略。<br>上面讲到，用户隐私数据总归可以被拿到的，如何保证被拿到之后不会被用来做坏事？</p>\n<blockquote>\n<p>加密</p>\n</blockquote>\n<p>将用户的隐私数据加密，那么就算被拿到，也无法被拿来使用。在这里呢，我们先不谈加密，而是先纠正一个误区，有些朋友会认为 Base64 可以加密，甚至有 Base64 加密的说法。</p>\n<p>Base64 主要不是加密，它主要的用途是把二进制数据序列转化为 ASCII 字符序列，用以数据传输。二进制数据是什么呢？计算机上存储的所有数据，都是二进制数据。</p>\n<p>Base64 最常见的应用场景是 URL，因为 URL 只能是特定的一些 ASCII 字符。这时需要用到 Base64 编码，当然这也只是对二进制数据本身的编码，编码后的数据里面可能包含 +/= 等符号，真正放到 URL 里面时候，还需要URL-Encoding，变成 %XX 模式，以消除这些符号的歧义。其次就是将图片转为 Base64 的字符串。</p>\n<p>因此，Base64 只是一种编码方式，而不是加密方式。</p>\n<p>好了，现在回到我们的主题，先说登录和注册之间的关系，这 3 个模块需要做什么事情呢？</p>\n<blockquote>\n<ul>\n<li>注册：将用户输入的隐私数据，发送给服务器，服务器进行保存；</li>\n<li>登录：将用户输入的隐私数据，发送给服务器，服务器进行比对，确认是否有权限登录；</li>\n<li>token：确保用户在登录中；</li>\n</ul>\n</blockquote>\n<p>我们把用户输入的隐私数据再具象一些，比如账号和密码，结合我们上面提到的安全原则，那么分解开来，实际我们要做以下几件事：</p>\n<p>服务器-注册接口：接收客户端传来的账号和密码，将其保存在数据库中；<br>服务器-登录接口：接收客户端传来的账号和密码，与数据库比对，完全命中则登录成功，否则登录失败；<br>登录成功后，生成或更新 token 和过期时间，保存在数据库， token 返回给客户端；<br>服务器定期清除 token；<br>客户端-注册模块：向服务器注册接口发送账号和密码；<br>客户端-登录模块：向服务器登录接口发送账号和密码；<br>登录成功后，保存 token 到本地；<br>退出登录后，清除 token；<br>发送的账号和密码需要加密；<br>数据库中需要保存的是加密后的账号和密码；<br>请求敏感数据时，将客户端传来的 token 和服务器验证，不通过则提示客户端登录；<br>上面逻辑理清楚后，相信对于大家来说并不难实现，以下是服务器注册接口做的事情：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*检查用户名是否存在*/</div><div class=\"line\">$is_exist = $db-&gt;check_user_exist($account);</div><div class=\"line\"></div><div class=\"line\">if ($is_exist) &#123;</div><div class=\"line\">    echo return_value(10001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    /*检查用户名是否添加成功*/</div><div class=\"line\">    $result = $db-&gt;add_user($account, $password);</div><div class=\"line\">    if ($result) &#123;</div><div class=\"line\">        echo return_value(0, true);</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        echo return_value(20001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>现在是服务器登录接口做的事情：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*是否命中用户名和密码*/</div><div class=\"line\">$should_login = $db-&gt;should_login($account, $password);</div><div class=\"line\"></div><div class=\"line\">if ($should_login) &#123;</div><div class=\"line\">    /*更新 token*/</div><div class=\"line\">    $token = $db-&gt;insert_token($account);</div><div class=\"line\">    if ($token == &apos;&apos;) &#123;</div><div class=\"line\">        echo response(40001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        $data = [&apos;token&apos; =&gt; $token];</div><div class=\"line\">        echo response(0, $data);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    echo response(30001, false);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>剩下的无非是加密算法的不同，我最常用的是 md5，那么我们经过 md5 加密以后，其实还是不太安全，为什么呢？因为 md5 本身就不安全。虽然 md5 是不可逆的 hash 算法，反向算出来虽然困难，但是如果反向查询，密码设置的简单，也很容易被攻破。</p>\n<p>比如我们使用 md5 加密一个密码 123456，对应的 md5 是 e10adc3949ba59abbe56e057f20f883e，找到一个 md5 解密的网站，比如 cmd5.com/，很容易就被破解了密码…</p>\n<blockquote>\n<p>加盐</p>\n</blockquote>\n<p>工作一段时间的同学对这个名词应该不会陌生，这种方式算是给用户的隐私数据加上密了，其实就是一段隐私数据加一段乱码再进行 md5，用代码表示大致是这样：</p>\n<p>// 伪代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">salt = &apos;#^&amp;%**(^&amp;(&amp;*)_)_(*&amp;^&amp;#$%GVHKBJ(*^&amp;*%^%&amp;^&amp;&apos;</div><div class=\"line\">password = &apos;123456&apos;</div><div class=\"line\">post_body = salt + password</div><div class=\"line\">print post_body.md5()</div><div class=\"line\">// ffb34d898f6573a1cf14fdc34d3343c0</div></pre></td></tr></table></figure>\n<p>现在，密码看起来挺靠谱的了，但是，我们知道加盐这种方式是比较早期的处理方式了，既然现在没有在大范围使用了，就说明单纯加盐还是存在缺陷的。</p>\n<blockquote>\n<p>有泄露的可能</p>\n</blockquote>\n<p>现在我们在客户端对密码做了 md5 加盐，服务器保存的也是加密后的内容，但是，盐是写在了客户端的源代码中，一旦对源代码进行反编译，找到 salt 这个字符串，那么加盐的做法也就形同虚设了。</p>\n<p>反编译源代码的代价也很高，一般对于安全性能要求不高的话，也够用了，但是，对于一些涉及资金之类的 App 来说，仅仅加盐还是不够的。</p>\n<p>比如离职的技术同学不是很开心，又或者有人想花钱买这串字符等等，盐一旦被泄露，就是一场灾难，这也是盐最大的缺陷。</p>\n<blockquote>\n<p>依赖性太强</p>\n</blockquote>\n<p>盐一旦被设定，那么再做修改的话就非常困难了，因为服务器存储的全部是加盐后的数据，如果换盐，那么这些数据全部都需要改动。但是可怕的不在于此，如果将服务器的数据改动后，旧版本的用户再访问又都不可以了，因为他们用的是之前的盐。</p>\n<blockquote>\n<p>HMAC</p>\n</blockquote>\n<p>目前最常见的方式，应该就是 HMAC 了，HMAC 算法主要应用于身份验证，与加盐的不同点在于，盐被移到了服务器，服务器返回什么，就用什么作为盐。</p>\n<p>这么做有什么好处呢？ 如果我们在登录的过程中，黑客截获了我们发送的数据，他也只能得到 HMAC 加密过后的结果，由于不知道密钥，根本不可能获取到用户密码，从而保证了安全性。</p>\n<p>但是还有一个问题，前面我们讲到，盐被获取以后很危险，如果从服务器获取盐，也会被抓包，那还不如写在源代码里面呢，至少被反编译还困难点，那如果解决这个隐患呢？</p>\n<p>那就是，在用户注册时就生成和获取这个秘钥，以代码示例：</p>\n<p>现在我们发送一个请求：</p>\n<p>GET <a href=\"http://localhost:8888/capsule/register.php?account=joy&amp;password=789\" target=\"_blank\" rel=\"external\">http://localhost:8888/capsule/register.php?account=joy&amp;password=789</a><br>服务器收到请求后，做了下面的事情：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];  //123456</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*制作一个随机的盐*/</div><div class=\"line\">$salt = salt();</div><div class=\"line\"></div><div class=\"line\">/*检查用户名是否存在*/</div><div class=\"line\">$is_exist = $db-&gt;check_user_exist($account);</div><div class=\"line\"></div><div class=\"line\">if ($is_exist) &#123;</div><div class=\"line\">    echo response(10001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\"></div><div class=\"line\">    /*将密码进行 hmac 加密*/</div><div class=\"line\">    $password = str_hmac($password,  $salt);</div><div class=\"line\"></div><div class=\"line\">    /*检查用户名是否添加成功*/</div><div class=\"line\">    $result = $db-&gt;add_user($account, $password);</div><div class=\"line\"></div><div class=\"line\">    if ($result) &#123;</div><div class=\"line\">        $data = [&apos;salt&apos;=&gt;$salt];</div><div class=\"line\">        echo response(0, $data);</div><div class=\"line\">        //echo response(0, true);</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        echo response(20001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>服务器现在保存的是：</p>\n<p>account: joy<br>password: 05575c24576<br>客户端拿到的结果是：</p>\n<p>{<br>  “rc”: 0,<br>  “data”: {<br>    “salt”: “5633905fdc65b6c57be8698b1f0e884948c05d7f”<br>  },<br>  “errorInfo”: “”<br>}<br>那么客户端接下来应该做什么呢？把 salt 做本地的持久化，登录时将用户输入的密码做一次同样的 hmac，那么就能通过服务器的 password: 05575c24576 校验了，发起登录请求：</p>\n<p>GET <a href=\"http://localhost:8888/capsule/login.php?account=joy&amp;password=789\" target=\"_blank\" rel=\"external\">http://localhost:8888/capsule/login.php?account=joy&amp;password=789</a><br>// fail<br>GET <a href=\"http://localhost:8888/capsule/login.php?account=joy&amp;password=05575c24576\" target=\"_blank\" rel=\"external\">http://localhost:8888/capsule/login.php?account=joy&amp;password=05575c24576</a><br>// success<br>现在我们解决了依赖性太强的问题，盐我们可以随意的更改，甚至可以是随机的，每个用户都不一样。这样单个用户的安全性虽然没有加强，但是整个平台的安全性缺大大提升了，很少有人会针对一个用户搞事情。但是细心的同学应该可以想到，现在的盐，也就是秘钥是保存在本地的，如果用户的秘钥丢失，比如换手机了，那么岂不是有正确的密码，也无法登陆了吗？</p>\n<p>针对这个问题，核心就是用户没有了秘钥，那么在用户登陆的时候，逻辑就需要变一下。</p>\n<p>// 伪代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">func login(account, password) &#123;</div><div class=\"line\">    //如果有盐</div><div class=\"line\">    if let salt = getSalt() &#123;</div><div class=\"line\">        //将密码进行 hmac，请求登陆接口</div><div class=\"line\">        network.login(account, password.hmac(salt))</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        //请求 getSalt 接口，请求参数为账户+应用标识</div><div class=\"line\">        network.getSalt(account + bundleId, &#123; salt in</div><div class=\"line\">            //将盐保存在本地，再次调用自身。</div><div class=\"line\">            savaSalt(salt)</div><div class=\"line\">            login(account, password)</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>那么可想而知，我们的注册接口现在也需要新加一个 bundleId 的请求参数，然后用 account + bundleId 作为 key，来保存 salt：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];  //123456</div><div class=\"line\">$bundle_id = $_GET[&apos;bundleId&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*制作一个随机的盐*/</div><div class=\"line\">$salt = salt();</div><div class=\"line\"></div><div class=\"line\">/*检查用户名是否存在*/</div><div class=\"line\">$is_exist = $db-&gt;check_user_exist($account);</div><div class=\"line\"></div><div class=\"line\">if ($is_exist) &#123;</div><div class=\"line\">    echo response(10001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    /*将密码进行 hmac 加密*/</div><div class=\"line\">    $password = str_hmac($password,  $salt);</div><div class=\"line\"></div><div class=\"line\">    /*检查用户名是否添加成功*/</div><div class=\"line\">    $result = $db-&gt;add_user($account, $password);</div><div class=\"line\"></div><div class=\"line\">    if ($result) &#123;</div><div class=\"line\"></div><div class=\"line\">        /*检查秘钥是否保存成功*/</div><div class=\"line\">        $save_salt = $db-&gt;save_salt($salt, $account, $bundle_id);</div><div class=\"line\"></div><div class=\"line\">        if ($save_salt) &#123;</div><div class=\"line\">            $data = [&apos;salt&apos;=&gt;$salt];</div><div class=\"line\">            echo response(0, $data);</div><div class=\"line\">        &#125;</div><div class=\"line\">        else &#123;</div><div class=\"line\">            echo response(20001, false);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        echo response(20001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>同时我们需要创建一个获取 salt 的接口：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$bundle_id = $_GET[&apos;bundleId&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*获取秘钥*/</div><div class=\"line\">$salt = $db-&gt;get_salt($account, $bundle_id);</div><div class=\"line\"></div><div class=\"line\">if ($salt == &apos;&apos;) &#123;</div><div class=\"line\">    echo response(40001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    $data = [&apos;salt&apos;=&gt;$salt];</div><div class=\"line\">    echo response(0, $data);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>写到这里，就可以给大家介绍一个比较好玩的东西了。</p>\n<blockquote>\n<p>设备锁</p>\n</blockquote>\n<p>一些 App 具有设备锁的功能，比如 QQ，这个功能是将账号与设备进行绑定，如果其他人知道了用户的账号和密码，但是设备不符，同样无法登录，怎样实现呢？</p>\n<p>就是用户开启设备锁之后，如果设备中没有 salt，那么就不再请求 getSalt 接口，而是转为其他验证方式，通过之后，才可以请求 getSalt。</p>\n<blockquote>\n<p>提升单个用户的安全性</p>\n</blockquote>\n<p>现在这个 App 相对来说比较安全了，上面说到，因为每个用户的 salt 都不一样，破解单个用户的利益不大，所以，对于平台来说安全性已经比较高了，但凡是都有例外，如果这个破坏者就是铁了心要搞事情，就针对一个用户，现在这个方案，还有哪些问题存在呢？</p>\n<p>注册时返回的 salt 被抓包时有可能会泄露；<br>更换设备后，获取的 salt 被抓包时有可能会泄露；<br>保存在本地的 salt ，有可能通过文件路径获取到；<br>抓包的人就算不知道密码，通过 hmac 加密后的字符，也可以进行登录；</p>\n<p>怎么处理呢？首先我们需要清楚的是，之所以会被破解，是拿到了我们加密时的因子，或者叫种子，这个种子服务器和客户端都必须要有，如果没有的话，两者就无法进行通信了，但是我们也不能在客户端将种子写死，在服务器给客户端种子时，总会有可能被获取。</p>\n<p>我们要设计一种思路，需要有一个种子，服务器和客户端之间无需通讯，但是都可以被理解的种子。</p>\n<p>同时我们需要这个种子是动态的，每次加密的结果都不一样，那么就算抓到了加密后的密码，这个密码也随之失效了。</p>\n<p>所以，我们需要一个无需服务器和客户端通讯的，动态的种子，时间。</p>\n<blockquote>\n<p>HMAC+时间</p>\n</blockquote>\n<p>这个动态的种子是如何使用的呢？</p>\n<p>客户端发送注册请求，服务器返回 salt，保存 hmac 后的密码；<br>客户端保存 salt；<br>客户端发送登录请求，参数为 hmac 后的密码，加上当前的时间；<br>服务器收到登录请求，将数据库中的密码，加上当前的时间，进行比对；<br>客户端代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 秘钥</div><div class=\"line\">const salt = &apos;&apos;</div><div class=\"line\">// 当前时间，精确到分钟</div><div class=\"line\">const currentTime = &apos;201709171204&apos;</div><div class=\"line\">// 用户输入的密码</div><div class=\"line\">let password = &apos;123456&apos;</div><div class=\"line\">// (hmac+currentTime).md5</div><div class=\"line\">password = (password.hmac(salt) + currentTime).md5()</div><div class=\"line\">network(&apos;login&apos;, &#123;method: &apos;GET&apos;, params: &#123;password:password&#125;&#125;)</div></pre></td></tr></table></figure>\n<p>服务器代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">function should_login($account, $password)</div><div class=\"line\">&#123;</div><div class=\"line\">    $account = mysqli_real_escape_string($this-&gt;connection ,$account);</div><div class=\"line\">    $password = mysqli_real_escape_string($this-&gt;connection, $password);</div><div class=\"line\">    $user = $this-&gt;get_user($account);</div><div class=\"line\">    if ($user == null) &#123;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">    $password_local = $user[&apos;password&apos;];</div><div class=\"line\">    if ($password_local == &apos;&apos;) &#123;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">    $password_local = md5($password_local.current_time());</div><div class=\"line\">    if ($password_local == $password) &#123;</div><div class=\"line\">        return true;</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>但是现在还有一点问题，那就是对时间的容错上，如果客户端发送的时候是 201709171204，服务器响应时却已经到了 201709171205 了，那么这样势必是不能通过的，这种情况，只需要服务器把当前的时间减去一分钟，再校验一次，符合其中之一就可以。</p>\n<p>聪明的你应该可以想到，这也就是验证码 5 分钟内有效期的实现。</p>\n<p>现在这个 App，就算注册时拿到了 salt，也很难在 1 分钟内反推出密码，同时，抓包的密码一分钟后也就失效了，对于单个用户的安全性，也有了进一步的提升。</p>\n","site":{"data":{}},"excerpt":"<blockquote>\n<p>注册、登录和 token 的安全之道</p>\n</blockquote>\n<p>最近想要做一个小项目，由于前后都是一个人，在登录和注册的接口上就被卡住了，因此想登录、注册、口令之间的关系，使用 PHP 实现登录注册模块，和访问口令。","more":"</p>\n<blockquote>\n<p>出于安全的考虑，首先定下三项原则：</p>\n<p>在传输中，不允许明文传输用户隐私数据；<br>在本地，不允许明文保存用户隐私数据；<br>在服务器，不允许明文保存用户隐私数据；<br>在网络来说，我们知道不论 POST 请求和 GET 请求都会被抓包，在没有使用 HTTPS 的情况下，抓包我们是防不住的，如果明文传输用户隐私，那后果就不说了。</p>\n</blockquote>\n<p>本地和服务器也是如此，比如 iOS 设备，如果存储在本地，越狱之后通过设备 Finder 之类的功能，也能轻易找到我们存储在本地的用户隐私。</p>\n<p>使用 Keychain 在本地也有保存，但不在沙盒，暂且忽略。<br>上面讲到，用户隐私数据总归可以被拿到的，如何保证被拿到之后不会被用来做坏事？</p>\n<blockquote>\n<p>加密</p>\n</blockquote>\n<p>将用户的隐私数据加密，那么就算被拿到，也无法被拿来使用。在这里呢，我们先不谈加密，而是先纠正一个误区，有些朋友会认为 Base64 可以加密，甚至有 Base64 加密的说法。</p>\n<p>Base64 主要不是加密，它主要的用途是把二进制数据序列转化为 ASCII 字符序列，用以数据传输。二进制数据是什么呢？计算机上存储的所有数据，都是二进制数据。</p>\n<p>Base64 最常见的应用场景是 URL，因为 URL 只能是特定的一些 ASCII 字符。这时需要用到 Base64 编码，当然这也只是对二进制数据本身的编码，编码后的数据里面可能包含 +/= 等符号，真正放到 URL 里面时候，还需要URL-Encoding，变成 %XX 模式，以消除这些符号的歧义。其次就是将图片转为 Base64 的字符串。</p>\n<p>因此，Base64 只是一种编码方式，而不是加密方式。</p>\n<p>好了，现在回到我们的主题，先说登录和注册之间的关系，这 3 个模块需要做什么事情呢？</p>\n<blockquote>\n<ul>\n<li>注册：将用户输入的隐私数据，发送给服务器，服务器进行保存；</li>\n<li>登录：将用户输入的隐私数据，发送给服务器，服务器进行比对，确认是否有权限登录；</li>\n<li>token：确保用户在登录中；</li>\n</ul>\n</blockquote>\n<p>我们把用户输入的隐私数据再具象一些，比如账号和密码，结合我们上面提到的安全原则，那么分解开来，实际我们要做以下几件事：</p>\n<p>服务器-注册接口：接收客户端传来的账号和密码，将其保存在数据库中；<br>服务器-登录接口：接收客户端传来的账号和密码，与数据库比对，完全命中则登录成功，否则登录失败；<br>登录成功后，生成或更新 token 和过期时间，保存在数据库， token 返回给客户端；<br>服务器定期清除 token；<br>客户端-注册模块：向服务器注册接口发送账号和密码；<br>客户端-登录模块：向服务器登录接口发送账号和密码；<br>登录成功后，保存 token 到本地；<br>退出登录后，清除 token；<br>发送的账号和密码需要加密；<br>数据库中需要保存的是加密后的账号和密码；<br>请求敏感数据时，将客户端传来的 token 和服务器验证，不通过则提示客户端登录；<br>上面逻辑理清楚后，相信对于大家来说并不难实现，以下是服务器注册接口做的事情：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*检查用户名是否存在*/</div><div class=\"line\">$is_exist = $db-&gt;check_user_exist($account);</div><div class=\"line\"></div><div class=\"line\">if ($is_exist) &#123;</div><div class=\"line\">    echo return_value(10001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    /*检查用户名是否添加成功*/</div><div class=\"line\">    $result = $db-&gt;add_user($account, $password);</div><div class=\"line\">    if ($result) &#123;</div><div class=\"line\">        echo return_value(0, true);</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        echo return_value(20001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>现在是服务器登录接口做的事情：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*是否命中用户名和密码*/</div><div class=\"line\">$should_login = $db-&gt;should_login($account, $password);</div><div class=\"line\"></div><div class=\"line\">if ($should_login) &#123;</div><div class=\"line\">    /*更新 token*/</div><div class=\"line\">    $token = $db-&gt;insert_token($account);</div><div class=\"line\">    if ($token == &apos;&apos;) &#123;</div><div class=\"line\">        echo response(40001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        $data = [&apos;token&apos; =&gt; $token];</div><div class=\"line\">        echo response(0, $data);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    echo response(30001, false);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>剩下的无非是加密算法的不同，我最常用的是 md5，那么我们经过 md5 加密以后，其实还是不太安全，为什么呢？因为 md5 本身就不安全。虽然 md5 是不可逆的 hash 算法，反向算出来虽然困难，但是如果反向查询，密码设置的简单，也很容易被攻破。</p>\n<p>比如我们使用 md5 加密一个密码 123456，对应的 md5 是 e10adc3949ba59abbe56e057f20f883e，找到一个 md5 解密的网站，比如 cmd5.com/，很容易就被破解了密码…</p>\n<blockquote>\n<p>加盐</p>\n</blockquote>\n<p>工作一段时间的同学对这个名词应该不会陌生，这种方式算是给用户的隐私数据加上密了，其实就是一段隐私数据加一段乱码再进行 md5，用代码表示大致是这样：</p>\n<p>// 伪代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">salt = &apos;#^&amp;%**(^&amp;(&amp;*)_)_(*&amp;^&amp;#$%GVHKBJ(*^&amp;*%^%&amp;^&amp;&apos;</div><div class=\"line\">password = &apos;123456&apos;</div><div class=\"line\">post_body = salt + password</div><div class=\"line\">print post_body.md5()</div><div class=\"line\">// ffb34d898f6573a1cf14fdc34d3343c0</div></pre></td></tr></table></figure>\n<p>现在，密码看起来挺靠谱的了，但是，我们知道加盐这种方式是比较早期的处理方式了，既然现在没有在大范围使用了，就说明单纯加盐还是存在缺陷的。</p>\n<blockquote>\n<p>有泄露的可能</p>\n</blockquote>\n<p>现在我们在客户端对密码做了 md5 加盐，服务器保存的也是加密后的内容，但是，盐是写在了客户端的源代码中，一旦对源代码进行反编译，找到 salt 这个字符串，那么加盐的做法也就形同虚设了。</p>\n<p>反编译源代码的代价也很高，一般对于安全性能要求不高的话，也够用了，但是，对于一些涉及资金之类的 App 来说，仅仅加盐还是不够的。</p>\n<p>比如离职的技术同学不是很开心，又或者有人想花钱买这串字符等等，盐一旦被泄露，就是一场灾难，这也是盐最大的缺陷。</p>\n<blockquote>\n<p>依赖性太强</p>\n</blockquote>\n<p>盐一旦被设定，那么再做修改的话就非常困难了，因为服务器存储的全部是加盐后的数据，如果换盐，那么这些数据全部都需要改动。但是可怕的不在于此，如果将服务器的数据改动后，旧版本的用户再访问又都不可以了，因为他们用的是之前的盐。</p>\n<blockquote>\n<p>HMAC</p>\n</blockquote>\n<p>目前最常见的方式，应该就是 HMAC 了，HMAC 算法主要应用于身份验证，与加盐的不同点在于，盐被移到了服务器，服务器返回什么，就用什么作为盐。</p>\n<p>这么做有什么好处呢？ 如果我们在登录的过程中，黑客截获了我们发送的数据，他也只能得到 HMAC 加密过后的结果，由于不知道密钥，根本不可能获取到用户密码，从而保证了安全性。</p>\n<p>但是还有一个问题，前面我们讲到，盐被获取以后很危险，如果从服务器获取盐，也会被抓包，那还不如写在源代码里面呢，至少被反编译还困难点，那如果解决这个隐患呢？</p>\n<p>那就是，在用户注册时就生成和获取这个秘钥，以代码示例：</p>\n<p>现在我们发送一个请求：</p>\n<p>GET <a href=\"http://localhost:8888/capsule/register.php?account=joy&amp;password=789\" target=\"_blank\" rel=\"external\">http://localhost:8888/capsule/register.php?account=joy&amp;password=789</a><br>服务器收到请求后，做了下面的事情：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];  //123456</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*制作一个随机的盐*/</div><div class=\"line\">$salt = salt();</div><div class=\"line\"></div><div class=\"line\">/*检查用户名是否存在*/</div><div class=\"line\">$is_exist = $db-&gt;check_user_exist($account);</div><div class=\"line\"></div><div class=\"line\">if ($is_exist) &#123;</div><div class=\"line\">    echo response(10001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\"></div><div class=\"line\">    /*将密码进行 hmac 加密*/</div><div class=\"line\">    $password = str_hmac($password,  $salt);</div><div class=\"line\"></div><div class=\"line\">    /*检查用户名是否添加成功*/</div><div class=\"line\">    $result = $db-&gt;add_user($account, $password);</div><div class=\"line\"></div><div class=\"line\">    if ($result) &#123;</div><div class=\"line\">        $data = [&apos;salt&apos;=&gt;$salt];</div><div class=\"line\">        echo response(0, $data);</div><div class=\"line\">        //echo response(0, true);</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        echo response(20001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>服务器现在保存的是：</p>\n<p>account: joy<br>password: 05575c24576<br>客户端拿到的结果是：</p>\n<p>{<br>  “rc”: 0,<br>  “data”: {<br>    “salt”: “5633905fdc65b6c57be8698b1f0e884948c05d7f”<br>  },<br>  “errorInfo”: “”<br>}<br>那么客户端接下来应该做什么呢？把 salt 做本地的持久化，登录时将用户输入的密码做一次同样的 hmac，那么就能通过服务器的 password: 05575c24576 校验了，发起登录请求：</p>\n<p>GET <a href=\"http://localhost:8888/capsule/login.php?account=joy&amp;password=789\" target=\"_blank\" rel=\"external\">http://localhost:8888/capsule/login.php?account=joy&amp;password=789</a><br>// fail<br>GET <a href=\"http://localhost:8888/capsule/login.php?account=joy&amp;password=05575c24576\" target=\"_blank\" rel=\"external\">http://localhost:8888/capsule/login.php?account=joy&amp;password=05575c24576</a><br>// success<br>现在我们解决了依赖性太强的问题，盐我们可以随意的更改，甚至可以是随机的，每个用户都不一样。这样单个用户的安全性虽然没有加强，但是整个平台的安全性缺大大提升了，很少有人会针对一个用户搞事情。但是细心的同学应该可以想到，现在的盐，也就是秘钥是保存在本地的，如果用户的秘钥丢失，比如换手机了，那么岂不是有正确的密码，也无法登陆了吗？</p>\n<p>针对这个问题，核心就是用户没有了秘钥，那么在用户登陆的时候，逻辑就需要变一下。</p>\n<p>// 伪代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div></pre></td><td class=\"code\"><pre><div class=\"line\">func login(account, password) &#123;</div><div class=\"line\">    //如果有盐</div><div class=\"line\">    if let salt = getSalt() &#123;</div><div class=\"line\">        //将密码进行 hmac，请求登陆接口</div><div class=\"line\">        network.login(account, password.hmac(salt))</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        //请求 getSalt 接口，请求参数为账户+应用标识</div><div class=\"line\">        network.getSalt(account + bundleId, &#123; salt in</div><div class=\"line\">            //将盐保存在本地，再次调用自身。</div><div class=\"line\">            savaSalt(salt)</div><div class=\"line\">            login(account, password)</div><div class=\"line\">        &#125;)</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>那么可想而知，我们的注册接口现在也需要新加一个 bundleId 的请求参数，然后用 account + bundleId 作为 key，来保存 salt：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div><div class=\"line\">25</div><div class=\"line\">26</div><div class=\"line\">27</div><div class=\"line\">28</div><div class=\"line\">29</div><div class=\"line\">30</div><div class=\"line\">31</div><div class=\"line\">32</div><div class=\"line\">33</div><div class=\"line\">34</div><div class=\"line\">35</div><div class=\"line\">36</div><div class=\"line\">37</div><div class=\"line\">38</div><div class=\"line\">39</div><div class=\"line\">40</div><div class=\"line\">41</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$password = $_GET[&apos;password&apos;];  //123456</div><div class=\"line\">$bundle_id = $_GET[&apos;bundleId&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*制作一个随机的盐*/</div><div class=\"line\">$salt = salt();</div><div class=\"line\"></div><div class=\"line\">/*检查用户名是否存在*/</div><div class=\"line\">$is_exist = $db-&gt;check_user_exist($account);</div><div class=\"line\"></div><div class=\"line\">if ($is_exist) &#123;</div><div class=\"line\">    echo response(10001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    /*将密码进行 hmac 加密*/</div><div class=\"line\">    $password = str_hmac($password,  $salt);</div><div class=\"line\"></div><div class=\"line\">    /*检查用户名是否添加成功*/</div><div class=\"line\">    $result = $db-&gt;add_user($account, $password);</div><div class=\"line\"></div><div class=\"line\">    if ($result) &#123;</div><div class=\"line\"></div><div class=\"line\">        /*检查秘钥是否保存成功*/</div><div class=\"line\">        $save_salt = $db-&gt;save_salt($salt, $account, $bundle_id);</div><div class=\"line\"></div><div class=\"line\">        if ($save_salt) &#123;</div><div class=\"line\">            $data = [&apos;salt&apos;=&gt;$salt];</div><div class=\"line\">            echo response(0, $data);</div><div class=\"line\">        &#125;</div><div class=\"line\">        else &#123;</div><div class=\"line\">            echo response(20001, false);</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        echo response(20001, false);</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>同时我们需要创建一个获取 salt 的接口：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div></pre></td><td class=\"code\"><pre><div class=\"line\">/*获取 get 请求传递的参数*/</div><div class=\"line\">$account = $_GET[&apos;account&apos;];</div><div class=\"line\">$bundle_id = $_GET[&apos;bundleId&apos;];</div><div class=\"line\"></div><div class=\"line\">/*创建数据连接*/</div><div class=\"line\">$db = new DataBase();</div><div class=\"line\"></div><div class=\"line\">/*获取秘钥*/</div><div class=\"line\">$salt = $db-&gt;get_salt($account, $bundle_id);</div><div class=\"line\"></div><div class=\"line\">if ($salt == &apos;&apos;) &#123;</div><div class=\"line\">    echo response(40001, false);</div><div class=\"line\">&#125;</div><div class=\"line\">else &#123;</div><div class=\"line\">    $data = [&apos;salt&apos;=&gt;$salt];</div><div class=\"line\">    echo response(0, $data);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>写到这里，就可以给大家介绍一个比较好玩的东西了。</p>\n<blockquote>\n<p>设备锁</p>\n</blockquote>\n<p>一些 App 具有设备锁的功能，比如 QQ，这个功能是将账号与设备进行绑定，如果其他人知道了用户的账号和密码，但是设备不符，同样无法登录，怎样实现呢？</p>\n<p>就是用户开启设备锁之后，如果设备中没有 salt，那么就不再请求 getSalt 接口，而是转为其他验证方式，通过之后，才可以请求 getSalt。</p>\n<blockquote>\n<p>提升单个用户的安全性</p>\n</blockquote>\n<p>现在这个 App 相对来说比较安全了，上面说到，因为每个用户的 salt 都不一样，破解单个用户的利益不大，所以，对于平台来说安全性已经比较高了，但凡是都有例外，如果这个破坏者就是铁了心要搞事情，就针对一个用户，现在这个方案，还有哪些问题存在呢？</p>\n<p>注册时返回的 salt 被抓包时有可能会泄露；<br>更换设备后，获取的 salt 被抓包时有可能会泄露；<br>保存在本地的 salt ，有可能通过文件路径获取到；<br>抓包的人就算不知道密码，通过 hmac 加密后的字符，也可以进行登录；</p>\n<p>怎么处理呢？首先我们需要清楚的是，之所以会被破解，是拿到了我们加密时的因子，或者叫种子，这个种子服务器和客户端都必须要有，如果没有的话，两者就无法进行通信了，但是我们也不能在客户端将种子写死，在服务器给客户端种子时，总会有可能被获取。</p>\n<p>我们要设计一种思路，需要有一个种子，服务器和客户端之间无需通讯，但是都可以被理解的种子。</p>\n<p>同时我们需要这个种子是动态的，每次加密的结果都不一样，那么就算抓到了加密后的密码，这个密码也随之失效了。</p>\n<p>所以，我们需要一个无需服务器和客户端通讯的，动态的种子，时间。</p>\n<blockquote>\n<p>HMAC+时间</p>\n</blockquote>\n<p>这个动态的种子是如何使用的呢？</p>\n<p>客户端发送注册请求，服务器返回 salt，保存 hmac 后的密码；<br>客户端保存 salt；<br>客户端发送登录请求，参数为 hmac 后的密码，加上当前的时间；<br>服务器收到登录请求，将数据库中的密码，加上当前的时间，进行比对；<br>客户端代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">// 秘钥</div><div class=\"line\">const salt = &apos;&apos;</div><div class=\"line\">// 当前时间，精确到分钟</div><div class=\"line\">const currentTime = &apos;201709171204&apos;</div><div class=\"line\">// 用户输入的密码</div><div class=\"line\">let password = &apos;123456&apos;</div><div class=\"line\">// (hmac+currentTime).md5</div><div class=\"line\">password = (password.hmac(salt) + currentTime).md5()</div><div class=\"line\">network(&apos;login&apos;, &#123;method: &apos;GET&apos;, params: &#123;password:password&#125;&#125;)</div></pre></td></tr></table></figure>\n<p>服务器代码：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div></pre></td><td class=\"code\"><pre><div class=\"line\">function should_login($account, $password)</div><div class=\"line\">&#123;</div><div class=\"line\">    $account = mysqli_real_escape_string($this-&gt;connection ,$account);</div><div class=\"line\">    $password = mysqli_real_escape_string($this-&gt;connection, $password);</div><div class=\"line\">    $user = $this-&gt;get_user($account);</div><div class=\"line\">    if ($user == null) &#123;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">    $password_local = $user[&apos;password&apos;];</div><div class=\"line\">    if ($password_local == &apos;&apos;) &#123;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">    $password_local = md5($password_local.current_time());</div><div class=\"line\">    if ($password_local == $password) &#123;</div><div class=\"line\">        return true;</div><div class=\"line\">    &#125;</div><div class=\"line\">    else &#123;</div><div class=\"line\">        return false;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>但是现在还有一点问题，那就是对时间的容错上，如果客户端发送的时候是 201709171204，服务器响应时却已经到了 201709171205 了，那么这样势必是不能通过的，这种情况，只需要服务器把当前的时间减去一分钟，再校验一次，符合其中之一就可以。</p>\n<p>聪明的你应该可以想到，这也就是验证码 5 分钟内有效期的实现。</p>\n<p>现在这个 App，就算注册时拿到了 salt，也很难在 1 分钟内反推出密码，同时，抓包的密码一分钟后也就失效了，对于单个用户的安全性，也有了进一步的提升。</p>"}],"PostAsset":[],"PostCategory":[{"post_id":"cj85j7k7b00066rutrm020d3h","category_id":"cj85j7k7e00086rut2zoyocum","_id":"cj85j7k7i000d6rutg4pglkqt"}],"PostTag":[{"post_id":"cj85j7k6z00016rut9q2o5mur","tag_id":"cj85j7k7700046rut6m4vwlk3","_id":"cj85j7k7g000b6ruthjnkrghz"},{"post_id":"cj85j7k7400036rutw2f2qm6y","tag_id":"cj85j7k7f000a6rut776c12bw","_id":"cj85j7k7i000g6rut5v159q4p"},{"post_id":"cj85j7k7400036rutw2f2qm6y","tag_id":"cj85j7k7h000c6rut7vy9masm","_id":"cj85j7k7i000h6rutldcbuc2w"},{"post_id":"cj85j7k7400036rutw2f2qm6y","tag_id":"cj85j7k7i000e6rut7efi1qzq","_id":"cj85j7k7i000j6rutz3sr3gbi"},{"post_id":"cj85j7k7b00066rutrm020d3h","tag_id":"cj85j7k7i000f6rutpzo8afpv","_id":"cj85j7k7i000k6rutwvlmg9kt"},{"post_id":"cj85j7k7b00066rutrm020d3h","tag_id":"cj85j7k7i000i6ruton3etjk0","_id":"cj85j7k7i000l6rutqkd7kzzd"}],"Tag":[{"name":"hexo","_id":"cj85j7k7700046rut6m4vwlk3"},{"name":"iOS","_id":"cj85j7k7f000a6rut776c12bw"},{"name":"Android","_id":"cj85j7k7h000c6rut7vy9masm"},{"name":"Python","_id":"cj85j7k7i000e6rut7efi1qzq"},{"name":"PHP","_id":"cj85j7k7i000f6rutpzo8afpv"},{"name":"Interface","_id":"cj85j7k7i000i6ruton3etjk0"}]}}